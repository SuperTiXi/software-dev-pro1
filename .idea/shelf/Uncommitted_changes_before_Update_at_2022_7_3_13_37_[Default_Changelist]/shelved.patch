Index: src/main/resources/static/pages/userManage.html
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><!DOCTYPE html>\r\n<html lang=\"en\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <title>用户管理</title>\r\n\r\n    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css\">\r\n    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/ionicons/2.0.1/css/ionicons.min.css\">\r\n    <link rel=\"stylesheet\" href=\"../plugins/daterangepicker/daterangepicker.css\">\r\n\r\n    <link rel=\"stylesheet\" href=\"../plugins/bootstrap/css/bootstrap.min.css\">\r\n    <link rel=\"stylesheet\" href=\"../plugins/bootstrap-select/bootstrap-select.min.css\">\r\n    <link rel=\"stylesheet\" href=\"../css/default.css\">\r\n    <link rel=\"stylesheet\" href=\"../plugins/bootstrap-table/css/bootstrap-table.css\">\r\n\r\n    <link rel=\"stylesheet\" href=\"../css/wjxmaster.css\">\r\n    <link rel=\"stylesheet\" href=\"../css/myquestionnaires.css\">\r\n\r\n    <script src=\"../plugins/jQuery/jquery-1.12.4.min.js\"></script>\r\n    <script src=\"../plugins/bootstrap/js/bootstrap.min.js\"></script>\r\n    <script src=\"../plugins/bootstrap-table/js/bootstrap-table.js\"></script>\r\n    <script src=\"../plugins/bootstrap-table/js/bootstrap-table-zh-CN.js\"></script>\r\n    <script src=\"../plugins/layer/layer.js\"></script>\r\n    <script src=\"../plugins/cookie/jquery.cookie.js\"></script>\r\n    <script src=\"../common/common.js\"></script>\r\n    <script src=\"answerQuestionJs/userManage.js\"></script>\r\n    <style>\r\n        .create-btn {\r\n            font-size: 16px;\r\n            width: 120px;\r\n            height: 36px;\r\n            margin-right: 10px;\r\n            line-height: 2;\r\n            border-radius: 100px;\r\n            border-color: #fa911e;\r\n            background-color: #fa911e;\r\n        }\r\n\r\n        .create-icon {\r\n            width: 15px;\r\n            height: 15px;\r\n            margin-right: 6px;\r\n            margin-top: -2px;\r\n            background: url(../images/create_15.png) no-repeat center;\r\n        }\r\n\r\n        .create-search {\r\n            position: relative;\r\n        }\r\n\r\n        .create-btn:hover {\r\n            background-color: #f08200;\r\n            border-color: #f08200;\r\n        }\r\n\r\n        .search-icon:hover {\r\n            background: url(../images/search1.png) no-repeat center;\r\n        }\r\n\r\n        .create-search input {\r\n            width: 300px;\r\n            height: 36px;\r\n            line-height: 1.6;\r\n            /* padding-left: 16px; */\r\n            padding: 8px 0 8px 16px;\r\n            font-size: 12px;\r\n            color: #999;\r\n            border-radius: 100px;\r\n            border: 1px solid #ccc;\r\n        }\r\n\r\n        .create-search .search-icon {\r\n            position: absolute;\r\n            top: 8px;\r\n            right: 11px;\r\n            width: 25px;\r\n            height: 20px;\r\n            margin: 0;\r\n            border: none;\r\n            cursor: pointer;\r\n            background: url(../images/search-gray.png) no-repeat center;\r\n        }\r\n\r\n        .survey-create {\r\n            position: relative;\r\n            margin-bottom: 30px;\r\n            margin-left: 30px;\r\n            z-index: 200;\r\n        }\r\n\r\n        .survey__folder {\r\n            position: relative;\r\n            margin: 20px 0;\r\n            padding-top: 14px;\r\n            border-top: 2px solid #f5f7fa;\r\n        }\r\n\r\n        .my-btn-g {\r\n            font-size: 14px;\r\n            height: 30px;\r\n            border-radius: 3px;\r\n        }\r\n\r\n        .my-h4-g {\r\n            font-size: 16px;\r\n            font-weight: bold;\r\n            margin: 27px;\r\n        }\r\n\r\n        /*以下是表格样式*/\r\n        .bootstrap-table{\r\n            margin: 0 50px;\r\n        }\r\n\r\n        .btn-default-g {\r\n            color: #fff;\r\n            background-color: #1ea0fa;\r\n            border-color: #1ea0fa;\r\n            height: 34px;\r\n            width: 54px;\r\n            font-size: 14px;\r\n        }\r\n\r\n        .btn-danger-g{\r\n            color: #fff;\r\n            background-color: #d9534f;\r\n            border-color: #d9534f;\r\n            height: 34px;\r\n            width: 54px;\r\n            font-size: 14px;\r\n        }\r\n\r\n        .btn-success-g{\r\n            color: #fff;\r\n            background-color: #5cb85c;\r\n            border-color: #4cae4c;\r\n            height: 34px;\r\n            width: 54px;\r\n            font-size: 14px;\r\n        }\r\n\r\n        .btn.focus, .btn:focus, .btn:hover {\r\n            color: #fff;\r\n            text-decoration: none;\r\n        }\r\n\r\n        .fixed-table-pagination .pagination-info {\r\n            line-height: 34px;\r\n            margin-right: 5px;\r\n            font-size: 14px;\r\n        }\r\n\r\n        .page-list{\r\n            font-size: 14px;\r\n        }\r\n\r\n        .fixed-table-pagination .btn-group {\r\n            position: relative;\r\n            display: inline-block;\r\n            vertical-align: middle;\r\n        }\r\n\r\n        .btn-group .btn-default{\r\n            color: #333;\r\n            background-color: #fff;\r\n            border-color: #ccc;\r\n        }\r\n\r\n        .search-icon:hover {\r\n            background: url(../images/search1.png) no-repeat center;\r\n        }\r\n\r\n\r\n    </style>\r\n\r\n\r\n\r\n</head>\r\n<body>\r\n\r\n<div class=\"header\">\r\n\r\n</div>\r\n\r\n<div class=\"content-wrapper\" style=\"border-top: 1px solid rgb(228, 228, 228); min-height: 266px;position:relative;margin:0 auto -50px;padding:0;width:100%;min-height:100%;height:auto!important;background:#fff;padding-bottom:50px\">\r\n    <section class=\"content\">\r\n        <div id=\"ajax-content\">\r\n            <div class=\"projectManage\">\r\n                <div class=\"surveyHeader\">\r\n\r\n                </div>\r\n                <div class=\"surveySection\">\r\n\r\n\r\n                    <div id=\"ctl01_ContentPlaceHolder1_searchPapaer\" class=\"survey-create clearfix\">\r\n\r\n                        <div class=\"create-add pull-left\">\r\n\r\n                            <a href=\"javascript:void(0)\" title=\"创建新用户\" id=\"createUser\" target=\"_self\"\r\n                               class=\"btn btn-default btn-lg pull-left create-btn\" onclick=\"openCreateUserPage('','创建用户')\">\r\n                                <i class=\"icon create-icon\"></i>创建用户</a>\r\n                            <a href=\"javascript:void(0)\" title=\"创建新用户\"\r\n                               class=\"btn btn-default btn-lg pull-left create-btn\" onclick=importExcel()>\r\n                                批量导入\r\n                            </a>\r\n                            <input type=\"file\" id=\"image\" name=\"image\"\r\n                                   style=\"display:none;\"/>\r\n                            <a href=\"javascript:void(0)\" title=\"创建新用户\"\r\n                               class=\"btn btn-default btn-lg pull-left create-btn\" onclick=exportExcel(\"userTable\",\"userTable\")>\r\n                                导出Excel\r\n                            </a>\r\n\r\n                            <div id=\"ctl01_ContentPlaceHolder1_divInfo\" class=\"create-search pull-left\"\r\n                                 style=\"margin-right:10px;\">\r\n                                <input name=\"ctl01$ContentPlaceHolder1$txtName\" type=\"text\" placeholder=\"请输入用户名进行搜索...\"\r\n                                       id=\"keyWord\" class=\"serarchbox\"\r\n                                       onfocus=\"if(placeholder=='请输入用户名进行搜索...'){placeholder='';}\"\r\n                                       onblur=\"if(placeholder==''){placeholder='请输入用户名进行搜索...';}\">\r\n\r\n                                <div class=\"icon search-icon buttonboder\" id=\"userManager\" onclick=\"getUserList()\"></div>\r\n\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n                    <!--<div id=\"ctl01_ContentPlaceHolder1_surveyfolder\" class=\"survey__folder\"></div>-->\r\n\r\n\r\n\r\n                    <table id=\"userTable\" style=\"text-align:  center;font-size: 14px;margin: auto;word-wrap:break-word; word-break:break-all\" ></table>\r\n\r\n\r\n                    <table class=\"questionnaire_tableAll\"></table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </section>\r\n</div>\r\n\r\n\r\n<div id=\"ctl01_footlink\" class=\"my-footer MP-footer\">\r\n\r\n    <div id=\"ctl01_divWjxFooter\">\r\n        <i class=\"log-dec\">Copyright &copy; 沈阳哲航信息科技有限公司</i><!-- 问卷星底部 -->\r\n    </div>\r\n</div>\r\n\r\n\r\n</body>\r\n</html>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/resources/static/pages/userManage.html b/src/main/resources/static/pages/userManage.html
--- a/src/main/resources/static/pages/userManage.html	(revision 4fd5abff4e98fd9fdc9423ae14e13c9121fc2353)
+++ b/src/main/resources/static/pages/userManage.html	(date 1656787387839)
@@ -200,7 +200,7 @@
                                class="btn btn-default btn-lg pull-left create-btn" onclick="openCreateUserPage('','创建用户')">
                                 <i class="icon create-icon"></i>创建用户</a>
                             <a href="javascript:void(0)" title="创建新用户"
-                               class="btn btn-default btn-lg pull-left create-btn" onclick=importExcel()>
+                               class="btn btn-default btn-lg pull-left create-btn" onclick=importExcel(this)>
                                 批量导入
                             </a>
                             <input type="file" id="image" name="image"
Index: src/main/resources/static/pages/answerQuestionJs/userManage.js
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>/**\r\n * Created by Amy on 2018/8/9.\r\n */\r\n$(function () {\r\n    isLoginFun();\r\n    header();\r\n    $(\"#ctl01_lblUserName\").text(getCookie('userName'));\r\n    var oTable = new TableInit();\r\n    oTable.Init();\r\n});\r\n\r\n//回车事件\r\n$(document).keydown(function (event) {\r\n    if (event.keyCode == 13) {\r\n        getUserList();\r\n    }\r\n});\r\n\r\n$('#userManager').on(\"keydown\", function (event) {\r\n    var keyCode = event.keyCode || event.which;\r\n    if (keyCode == \"13\") {\r\n        //console.log(\"1111\")\r\n        event.preventDefault();\r\n    }\r\n});\r\n\r\nfunction getUserList() {\r\n    $(\"#userTable\").bootstrapTable('refresh');\r\n}\r\n\r\nfunction TableInit() {\r\n\r\n    var oTableInit = new Object();\r\n    //初始化Table\r\n    oTableInit.Init = function () {\r\n        $('#userTable').bootstrapTable({\r\n            url: httpRequestUrl + '/admin/queryUserList',         //请求后台的URL（*）\r\n            method: 'POST',                      //请求方式（*）\r\n            striped: true,                      //是否显示行间隔色\r\n            cache: false,                       //是否使用缓存，默认为true，所以一般情况下需要设置一下这个属性（*）\r\n            pagination: true,                   //是否显示分页（*）\r\n            sortOrder: \"asc\",                   //排序方式\r\n            queryParamsType: '',\r\n            dataType: 'json',\r\n            paginationShowPageGo: true,\r\n            showJumpto: true,\r\n            pageNumber: 1, //初始化加载第一页，默认第一页\r\n            queryParams: queryParams,//请求服务器时所传的参数\r\n            sidePagination: 'server',//指定服务器端分页\r\n            pageSize: 10,//单页记录数\r\n            pageList: [10, 20, 30, 40],//分页步进值\r\n            search: false, //是否显示表格搜索，此搜索是客户端搜索，不会进服务端，所以，个人感觉意义不大\r\n            silent: true,\r\n            showRefresh: false,                  //是否显示刷新按钮\r\n            showToggle: false,\r\n            minimumCountColumns: 2,             //最少允许的列数\r\n            uniqueId: \"id\",                     //每一行的唯一标识，一般为主键列\r\n\r\n            columns: [{\r\n                checkbox: true,\r\n                visible: false\r\n            }, {\r\n                field: 'id',\r\n                title: '序号',\r\n                align: 'center',\r\n                formatter: function (value, row, index) {\r\n                    return index + 1;\r\n                }\r\n            },\r\n                {\r\n                    field: 'username',\r\n                    title: '用户账号',\r\n                    align: 'center',\r\n                    width: '230px'\r\n                },\r\n                {\r\n                    field: 'password',\r\n                    title: '用户密码',\r\n                    align: 'center'\r\n                }, {\r\n                    field: 'startTime',\r\n                    title: '开始时间',\r\n                    align: 'center'\r\n                }, {\r\n                    field: 'endTime',\r\n                    title: '结束时间',\r\n                    align: 'center'\r\n                },\r\n                {\r\n                    field: 'operation',\r\n                    title: '操作',\r\n                    align: 'center',\r\n                    events: operateEvents,//给按钮注册事件\r\n                    formatter: addFunctionAlty//表格中增加按钮\r\n                }],\r\n            responseHandler: function (res) {\r\n                console.log(res.toString());\r\n                if(res.code == \"666\"){\r\n                    var userInfo = res.data.list;\r\n                    // var userInfo=JSON.parse('[{\"password\":\"1\",\"startTime\":\"2022-05-12T10:09:28\",\"id\":\"1\",\"endTime\":\"2022-05-12T10:09:30\",\"username\":\"aa\",\"status\":\"1\"},{\"password\":\"123\",\"startTime\":\"2022-05-12T12:10:37\",\"id\":\"290e08f3ea154e33ad56a18171642db1\",\"endTime\":\"2022-06-11T12:10:37\",\"username\":\"aaa\",\"status\":\"1\"},{\"password\":\"1\",\"startTime\":\"2018-10-24T09:49:00\",\"id\":\"8ceeee2995f3459ba1955f85245dc7a5\",\"endTime\":\"2025-11-24T09:49:00\",\"username\":\"admin\",\"status\":\"1\"},{\"password\":\"aa\",\"startTime\":\"2022-05-16T12:01:54\",\"id\":\"a6f15c3be07f42e5965bec199f7ebbe6\",\"endTime\":\"2022-06-15T12:01:54\",\"username\":\"aaaaa\",\"status\":\"1\"}]');\r\n                    var NewData = [];\r\n                    if (userInfo.length) {\r\n                        for (var i = 0; i < userInfo.length; i++) {\r\n                            var dataNewObj = {\r\n                                'id': '',\r\n                                \"username\": '',\r\n                                'password': '',\r\n                                \"startTime\": '',\r\n                                'endTime': '',\r\n                                'status': ''\r\n                            };\r\n\r\n                            dataNewObj.id = userInfo[i].id;\r\n                            dataNewObj.username = userInfo[i].username;\r\n                            dataNewObj.password = userInfo[i].password;\r\n                            dataNewObj.startTime = userInfo[i].startTime;\r\n                            dataNewObj.endTime = userInfo[i].endTime;\r\n                            dataNewObj.status = userInfo[i].status;\r\n                            NewData.push(dataNewObj);\r\n                        }\r\n                        //console.log(NewData)\r\n                    }\r\n                    var data = {\r\n                        total: res.data.total,\r\n                        rows: NewData\r\n                    };\r\n\r\n                    return data;\r\n                }\r\n\r\n            }\r\n\r\n        });\r\n    };\r\n\r\n    // 得到查询的参数\r\n    function queryParams(params) {\r\n        var userName = $(\"#keyWord\").val();\r\n        //console.log(userName);\r\n        var temp = {   //这里的键的名字和控制器的变量名必须一直，这边改动，控制器也需要改成一样的\r\n            pageNum: params.pageNumber,\r\n            pageSize: params.pageSize,\r\n            userName: userName\r\n        };\r\n        return JSON.stringify(temp);\r\n    }\r\n\r\n    return oTableInit;\r\n}\r\n\r\n\r\nwindow.operateEvents = {\r\n    //编辑\r\n    'click #btn_count': function (e, value, row, index) {\r\n        id = row.id;\r\n        $.cookie('questionId', id);\r\n    }\r\n};\r\n\r\n\r\n// 表格中按钮\r\nfunction addFunctionAlty(value, row, index) {\r\n    var btnText = '';\r\n\r\n    btnText += \"<button type=\\\"button\\\" id=\\\"btn_look\\\" onclick=\\\"resetPassword(\" + \"'\" + row.id + \"'\" + \")\\\" style='width: 77px;' class=\\\"btn btn-default-g ajax-link\\\">重置密码</button>&nbsp;&nbsp;\";\r\n\r\n    btnText += \"<button type=\\\"button\\\" id=\\\"btn_look\\\" onclick=\\\"editUserPage(\" + \"'\" + row.id + \"')\\\" class=\\\"btn btn-default-g ajax-link\\\">编辑</button>&nbsp;&nbsp;\";\r\n\r\n    if (row.status == \"1\") {\r\n        btnText += \"<button type=\\\"button\\\" id=\\\"btn_stop\" + row.id + \"\\\" onclick=\\\"changeStatus(\" + \"'\" + row.id + \"'\" + \")\\\" class=\\\"btn btn-danger-g ajax-link\\\">关闭</button>&nbsp;&nbsp;\";\r\n    } else if (row.status == \"0\") {\r\n        btnText += \"<button type=\\\"button\\\" id=\\\"btn_stop\" + row.id + \"\\\" onclick=\\\"changeStatus(\" + \"'\" + row.id + \"'\" + \")\\\" class=\\\"btn btn-success-g ajax-link\\\">开启</button>&nbsp;&nbsp;\"\r\n    }\r\n    btnText += \"<button type=\\\"button\\\" id=\\\"btn_stop\" + row.id + \"\\\" onclick=\\\"deleteUser(\" + \"'\" + row.id + \"'\" + \")\\\" class=\\\"btn btn-danger-g ajax-link\\\">删除</button>&nbsp;&nbsp;\";\r\n\r\n    return btnText;\r\n}\r\n\r\n//重置密码\r\nfunction resetPassword(id) {\r\n    deleteCookie(\"userTitle\");\r\n    setCookie(\"userTitle\", \"重置密码\");\r\n    if (id != '') {\r\n        deleteCookie(\"userId\");\r\n        setCookie(\"userId\", id);\r\n        console.log(id);\r\n    }\r\n    window.location.href = 'createNewUser.html';\r\n}\r\n\r\n// 打开创建用户页\r\nfunction openCreateUserPage(id, value) {\r\n\r\n    deleteCookie(\"userTitle\");\r\n    setCookie(\"userTitle\", value);\r\n    if (id != '') {\r\n        deleteCookie(\"userId\");\r\n        setCookie(\"userId\", id);\r\n    }\r\n    window.location.href = 'createNewUser.html';\r\n}\r\n\r\nfunction editUserPage(id) {\r\n    deleteCookie(\"userTitle\");\r\n    setCookie(\"userTitle\", \"编辑用户\");\r\n    if (id != '') {\r\n        deleteCookie(\"userId\");\r\n        setCookie(\"userId\", id);\r\n        console.log(id);\r\n    }\r\n    window.location.href = 'createNewUser.html';\r\n}\r\n// 修改用户状态（禁用、开启）\r\nfunction changeStatus(index) {\r\n    var url = '/admin/modifyUserStatus';\r\n    var data ={\r\n      'id':index\r\n    };\r\n    commonAjaxPost(true,url,data,function (result) {\r\n        if (result.code=='666'){\r\n            window.location.reload();\r\n            alert(\"状态修改成功\");\r\n\r\n        }\r\n    });\r\n}\r\n\r\n//删除用户\r\nfunction deleteUser(id) {\r\n        var url = '/admin/deleteUserInfoById';\r\n        console.log(url);\r\n        var data = {\r\n            'id': id,\r\n            \"username\": '',\r\n            'password': '',\r\n            \"startTime\": '',\r\n            'endTime': '',\r\n            'status': ''\r\n        };\r\n        console.log(data);\r\n        commonAjaxPost(true, url, data, function (result) {\r\n\r\n            if (result.code=='666'){\r\n                window.location.reload();\r\n                alert(\"删除成功\");\r\n            }else if (result.code=='333') {\r\n                window.location.href = 'login.html';\r\n\r\n            }else{\r\n                alert(\"删除失败\");\r\n            }\r\n        });\r\n}\r\n//导出为Excel\r\nfunction exportExcel(tableId,fileName) {\r\n    var table = document.getElementById(tableId);\r\n    var excelContent = table.innerHTML;\r\n    var excelFile = \"<html xmlns:o='urn:schemas-microsoft-com:office:office' xmlns:x='urn:schemas-microsoft-com:office:excel' xmlns='http://www.w3.org/TR/REC-html40'>\";\r\n    excelFile += \"<head><!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--></head>\";\r\n    excelFile += \"<body><table>\";\r\n    excelFile += excelContent;\r\n    excelFile += \"</table></body>\";\r\n    excelFile += \"</html>\";\r\n    var link = \"data:application/vnd.ms-excel;base64,\" + base64(excelFile);\r\n    var a = document.createElement(\"a\");\r\n    a.download = fileName+\".xlsx\";\r\n    a.href = link;\r\n    a.click();\r\n}\r\n\r\nfunction base64 (content) {\r\n    return window.btoa(unescape(encodeURIComponent(content)));\r\n}\r\n\r\n\r\n//导入表格\r\nfunction  importExcel(e) {\r\n    debugger;\r\n    var files = e.target.files;\r\n    var fileReader = new FileReader();\r\n    fileReader.onload = function (ev) {\r\n        try {\r\n            var data = ev.target.result,\r\n                workbook = XLSX.read(data, {\r\n                    type: 'binary'\r\n                })// 以二进制流方式读取得到整份excel表格对象\r\n            persons = []; // 存储获取到的数据\r\n        } catch (e) {\r\n            layer.msg('文件类型不正确');\r\n            return;\r\n        }\r\n        // 表格的表格范围，可用于判断表头是否数量是否正确\r\n        var fromTo = '';\r\n        // 遍历每张表读取\r\n        for (var sheet in workbook.Sheets) {\r\n            if (workbook.Sheets.hasOwnProperty(sheet)) {\r\n                fromTo = workbook.Sheets[sheet]['!ref'];\r\n                persons = persons.concat(XLSX.utils.sheet_to_json(workbook.Sheets[sheet]));\r\n                break; // 如果只取第一张表，就取消注释这行\r\n            }\r\n        }\r\n        console.log(persons);\r\n        if (persons.length != 0) {\r\n            if (!persons[0].no || !persons[0].answerNum || !persons[0].answerName || !persons[0].answerBelong || !persons[0].answerPhone || !persons[0].answerEmail) {\r\n                layer.msg('数据模板不正确');\r\n\r\n                return\r\n            }\r\n            _$(\"#userInfoTable\").bootstrapTable('removeAll');\r\n            //传入参数\r\n            for (var i = 0; i < persons.length; i++) {\r\n                _$(\"#userInfoTable\").bootstrapTable('insertRow', {index: i, row: persons[i]});\r\n                if (i == persons.length - 1) {\r\n                    if (files) {\r\n                        document.getElementById('image').value = '';\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n    // 以二进制方式打开文件\r\n    fileReader.readAsBinaryString(files[0]);\r\n}\r\n\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/resources/static/pages/answerQuestionJs/userManage.js b/src/main/resources/static/pages/answerQuestionJs/userManage.js
--- a/src/main/resources/static/pages/answerQuestionJs/userManage.js	(revision 4fd5abff4e98fd9fdc9423ae14e13c9121fc2353)
+++ b/src/main/resources/static/pages/answerQuestionJs/userManage.js	(date 1656787279208)
@@ -276,7 +276,7 @@
 //导入表格
 function  importExcel(e) {
     debugger;
-    var files = e.target.files;
+    var files = e.files;
     var fileReader = new FileReader();
     fileReader.onload = function (ev) {
         try {
Index: .idea/dataSources/2ab4efbc-761c-47ae-8a1a-022d435d0a47.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<dataSource name=\"aliyun\">\r\n  <database-model serializer=\"dbm\" dbms=\"MYSQL\" family-id=\"MYSQL\" format-version=\"4.39\">\r\n    <root id=\"1\">\r\n      <DefaultCasing>lower/lower</DefaultCasing>\r\n      <DefaultEngine>InnoDB</DefaultEngine>\r\n      <DefaultTmpEngine>InnoDB</DefaultTmpEngine>\r\n      <ServerVersion>8.0.25</ServerVersion>\r\n    </root>\r\n    <collation id=\"2\" parent=\"1\" name=\"armscii8_bin\">\r\n      <Charset>armscii8</Charset>\r\n    </collation>\r\n    <collation id=\"3\" parent=\"1\" name=\"armscii8_general_ci\">\r\n      <Charset>armscii8</Charset>\r\n      <DefaultForCharset>1</DefaultForCharset>\r\n    </collation>\r\n    <collation id=\"4\" parent=\"1\" name=\"ascii_bin\">\r\n      <Charset>ascii</Charset>\r\n    </collation>\r\n    <collation id=\"5\" parent=\"1\" name=\"ascii_general_ci\">\r\n      <Charset>ascii</Charset>\r\n      <DefaultForCharset>1</DefaultForCharset>\r\n    </collation>\r\n    <collation id=\"6\" parent=\"1\" name=\"big5_bin\">\r\n      <Charset>big5</Charset>\r\n    </collation>\r\n    <collation id=\"7\" parent=\"1\" name=\"big5_chinese_ci\">\r\n      <Charset>big5</Charset>\r\n      <DefaultForCharset>1</DefaultForCharset>\r\n    </collation>\r\n    <collation id=\"8\" parent=\"1\" name=\"binary\">\r\n      <Charset>binary</Charset>\r\n      <DefaultForCharset>1</DefaultForCharset>\r\n    </collation>\r\n    <collation id=\"9\" parent=\"1\" name=\"cp1250_bin\">\r\n      <Charset>cp1250</Charset>\r\n    </collation>\r\n    <collation id=\"10\" parent=\"1\" name=\"cp1250_croatian_ci\">\r\n      <Charset>cp1250</Charset>\r\n    </collation>\r\n    <collation id=\"11\" parent=\"1\" name=\"cp1250_czech_cs\">\r\n      <Charset>cp1250</Charset>\r\n    </collation>\r\n    <collation id=\"12\" parent=\"1\" name=\"cp1250_general_ci\">\r\n      <Charset>cp1250</Charset>\r\n      <DefaultForCharset>1</DefaultForCharset>\r\n    </collation>\r\n    <collation id=\"13\" parent=\"1\" name=\"cp1250_polish_ci\">\r\n      <Charset>cp1250</Charset>\r\n    </collation>\r\n    <collation id=\"14\" parent=\"1\" name=\"cp1251_bin\">\r\n      <Charset>cp1251</Charset>\r\n    </collation>\r\n    <collation id=\"15\" parent=\"1\" name=\"cp1251_bulgarian_ci\">\r\n      <Charset>cp1251</Charset>\r\n    </collation>\r\n    <collation id=\"16\" parent=\"1\" name=\"cp1251_general_ci\">\r\n      <Charset>cp1251</Charset>\r\n      <DefaultForCharset>1</DefaultForCharset>\r\n    </collation>\r\n    <collation id=\"17\" parent=\"1\" name=\"cp1251_general_cs\">\r\n      <Charset>cp1251</Charset>\r\n    </collation>\r\n    <collation id=\"18\" parent=\"1\" name=\"cp1251_ukrainian_ci\">\r\n      <Charset>cp1251</Charset>\r\n    </collation>\r\n    <collation id=\"19\" parent=\"1\" name=\"cp1256_bin\">\r\n      <Charset>cp1256</Charset>\r\n    </collation>\r\n    <collation id=\"20\" parent=\"1\" name=\"cp1256_general_ci\">\r\n      <Charset>cp1256</Charset>\r\n      <DefaultForCharset>1</DefaultForCharset>\r\n    </collation>\r\n    <collation id=\"21\" parent=\"1\" name=\"cp1257_bin\">\r\n      <Charset>cp1257</Charset>\r\n    </collation>\r\n    <collation id=\"22\" parent=\"1\" name=\"cp1257_general_ci\">\r\n      <Charset>cp1257</Charset>\r\n      <DefaultForCharset>1</DefaultForCharset>\r\n    </collation>\r\n    <collation id=\"23\" parent=\"1\" name=\"cp1257_lithuanian_ci\">\r\n      <Charset>cp1257</Charset>\r\n    </collation>\r\n    <collation id=\"24\" parent=\"1\" name=\"cp850_bin\">\r\n      <Charset>cp850</Charset>\r\n    </collation>\r\n    <collation id=\"25\" parent=\"1\" name=\"cp850_general_ci\">\r\n      <Charset>cp850</Charset>\r\n      <DefaultForCharset>1</DefaultForCharset>\r\n    </collation>\r\n    <collation id=\"26\" parent=\"1\" name=\"cp852_bin\">\r\n      <Charset>cp852</Charset>\r\n    </collation>\r\n    <collation id=\"27\" parent=\"1\" name=\"cp852_general_ci\">\r\n      <Charset>cp852</Charset>\r\n      <DefaultForCharset>1</DefaultForCharset>\r\n    </collation>\r\n    <collation id=\"28\" parent=\"1\" name=\"cp866_bin\">\r\n      <Charset>cp866</Charset>\r\n    </collation>\r\n    <collation id=\"29\" parent=\"1\" name=\"cp866_general_ci\">\r\n      <Charset>cp866</Charset>\r\n      <DefaultForCharset>1</DefaultForCharset>\r\n    </collation>\r\n    <collation id=\"30\" parent=\"1\" name=\"cp932_bin\">\r\n      <Charset>cp932</Charset>\r\n    </collation>\r\n    <collation id=\"31\" parent=\"1\" name=\"cp932_japanese_ci\">\r\n      <Charset>cp932</Charset>\r\n      <DefaultForCharset>1</DefaultForCharset>\r\n    </collation>\r\n    <collation id=\"32\" parent=\"1\" name=\"dec8_bin\">\r\n      <Charset>dec8</Charset>\r\n    </collation>\r\n    <collation id=\"33\" parent=\"1\" name=\"dec8_swedish_ci\">\r\n      <Charset>dec8</Charset>\r\n      <DefaultForCharset>1</DefaultForCharset>\r\n    </collation>\r\n    <collation id=\"34\" parent=\"1\" name=\"eucjpms_bin\">\r\n      <Charset>eucjpms</Charset>\r\n    </collation>\r\n    <collation id=\"35\" parent=\"1\" name=\"eucjpms_japanese_ci\">\r\n      <Charset>eucjpms</Charset>\r\n      <DefaultForCharset>1</DefaultForCharset>\r\n    </collation>\r\n    <collation id=\"36\" parent=\"1\" name=\"euckr_bin\">\r\n      <Charset>euckr</Charset>\r\n    </collation>\r\n    <collation id=\"37\" parent=\"1\" name=\"euckr_korean_ci\">\r\n      <Charset>euckr</Charset>\r\n      <DefaultForCharset>1</DefaultForCharset>\r\n    </collation>\r\n    <collation id=\"38\" parent=\"1\" name=\"gb18030_bin\">\r\n      <Charset>gb18030</Charset>\r\n    </collation>\r\n    <collation id=\"39\" parent=\"1\" name=\"gb18030_chinese_ci\">\r\n      <Charset>gb18030</Charset>\r\n      <DefaultForCharset>1</DefaultForCharset>\r\n    </collation>\r\n    <collation id=\"40\" parent=\"1\" name=\"gb18030_unicode_520_ci\">\r\n      <Charset>gb18030</Charset>\r\n    </collation>\r\n    <collation id=\"41\" parent=\"1\" name=\"gb2312_bin\">\r\n      <Charset>gb2312</Charset>\r\n    </collation>\r\n    <collation id=\"42\" parent=\"1\" name=\"gb2312_chinese_ci\">\r\n      <Charset>gb2312</Charset>\r\n      <DefaultForCharset>1</DefaultForCharset>\r\n    </collation>\r\n    <collation id=\"43\" parent=\"1\" name=\"gbk_bin\">\r\n      <Charset>gbk</Charset>\r\n    </collation>\r\n    <collation id=\"44\" parent=\"1\" name=\"gbk_chinese_ci\">\r\n      <Charset>gbk</Charset>\r\n      <DefaultForCharset>1</DefaultForCharset>\r\n    </collation>\r\n    <collation id=\"45\" parent=\"1\" name=\"geostd8_bin\">\r\n      <Charset>geostd8</Charset>\r\n    </collation>\r\n    <collation id=\"46\" parent=\"1\" name=\"geostd8_general_ci\">\r\n      <Charset>geostd8</Charset>\r\n      <DefaultForCharset>1</DefaultForCharset>\r\n    </collation>\r\n    <collation id=\"47\" parent=\"1\" name=\"greek_bin\">\r\n      <Charset>greek</Charset>\r\n    </collation>\r\n    <collation id=\"48\" parent=\"1\" name=\"greek_general_ci\">\r\n      <Charset>greek</Charset>\r\n      <DefaultForCharset>1</DefaultForCharset>\r\n    </collation>\r\n    <collation id=\"49\" parent=\"1\" name=\"hebrew_bin\">\r\n      <Charset>hebrew</Charset>\r\n    </collation>\r\n    <collation id=\"50\" parent=\"1\" name=\"hebrew_general_ci\">\r\n      <Charset>hebrew</Charset>\r\n      <DefaultForCharset>1</DefaultForCharset>\r\n    </collation>\r\n    <collation id=\"51\" parent=\"1\" name=\"hp8_bin\">\r\n      <Charset>hp8</Charset>\r\n    </collation>\r\n    <collation id=\"52\" parent=\"1\" name=\"hp8_english_ci\">\r\n      <Charset>hp8</Charset>\r\n      <DefaultForCharset>1</DefaultForCharset>\r\n    </collation>\r\n    <collation id=\"53\" parent=\"1\" name=\"keybcs2_bin\">\r\n      <Charset>keybcs2</Charset>\r\n    </collation>\r\n    <collation id=\"54\" parent=\"1\" name=\"keybcs2_general_ci\">\r\n      <Charset>keybcs2</Charset>\r\n      <DefaultForCharset>1</DefaultForCharset>\r\n    </collation>\r\n    <collation id=\"55\" parent=\"1\" name=\"koi8r_bin\">\r\n      <Charset>koi8r</Charset>\r\n    </collation>\r\n    <collation id=\"56\" parent=\"1\" name=\"koi8r_general_ci\">\r\n      <Charset>koi8r</Charset>\r\n      <DefaultForCharset>1</DefaultForCharset>\r\n    </collation>\r\n    <collation id=\"57\" parent=\"1\" name=\"koi8u_bin\">\r\n      <Charset>koi8u</Charset>\r\n    </collation>\r\n    <collation id=\"58\" parent=\"1\" name=\"koi8u_general_ci\">\r\n      <Charset>koi8u</Charset>\r\n      <DefaultForCharset>1</DefaultForCharset>\r\n    </collation>\r\n    <collation id=\"59\" parent=\"1\" name=\"latin1_bin\">\r\n      <Charset>latin1</Charset>\r\n    </collation>\r\n    <collation id=\"60\" parent=\"1\" name=\"latin1_danish_ci\">\r\n      <Charset>latin1</Charset>\r\n    </collation>\r\n    <collation id=\"61\" parent=\"1\" name=\"latin1_general_ci\">\r\n      <Charset>latin1</Charset>\r\n    </collation>\r\n    <collation id=\"62\" parent=\"1\" name=\"latin1_general_cs\">\r\n      <Charset>latin1</Charset>\r\n    </collation>\r\n    <collation id=\"63\" parent=\"1\" name=\"latin1_german1_ci\">\r\n      <Charset>latin1</Charset>\r\n    </collation>\r\n    <collation id=\"64\" parent=\"1\" name=\"latin1_german2_ci\">\r\n      <Charset>latin1</Charset>\r\n    </collation>\r\n    <collation id=\"65\" parent=\"1\" name=\"latin1_spanish_ci\">\r\n      <Charset>latin1</Charset>\r\n    </collation>\r\n    <collation id=\"66\" parent=\"1\" name=\"latin1_swedish_ci\">\r\n      <Charset>latin1</Charset>\r\n      <DefaultForCharset>1</DefaultForCharset>\r\n    </collation>\r\n    <collation id=\"67\" parent=\"1\" name=\"latin2_bin\">\r\n      <Charset>latin2</Charset>\r\n    </collation>\r\n    <collation id=\"68\" parent=\"1\" name=\"latin2_croatian_ci\">\r\n      <Charset>latin2</Charset>\r\n    </collation>\r\n    <collation id=\"69\" parent=\"1\" name=\"latin2_czech_cs\">\r\n      <Charset>latin2</Charset>\r\n    </collation>\r\n    <collation id=\"70\" parent=\"1\" name=\"latin2_general_ci\">\r\n      <Charset>latin2</Charset>\r\n      <DefaultForCharset>1</DefaultForCharset>\r\n    </collation>\r\n    <collation id=\"71\" parent=\"1\" name=\"latin2_hungarian_ci\">\r\n      <Charset>latin2</Charset>\r\n    </collation>\r\n    <collation id=\"72\" parent=\"1\" name=\"latin5_bin\">\r\n      <Charset>latin5</Charset>\r\n    </collation>\r\n    <collation id=\"73\" parent=\"1\" name=\"latin5_turkish_ci\">\r\n      <Charset>latin5</Charset>\r\n      <DefaultForCharset>1</DefaultForCharset>\r\n    </collation>\r\n    <collation id=\"74\" parent=\"1\" name=\"latin7_bin\">\r\n      <Charset>latin7</Charset>\r\n    </collation>\r\n    <collation id=\"75\" parent=\"1\" name=\"latin7_estonian_cs\">\r\n      <Charset>latin7</Charset>\r\n    </collation>\r\n    <collation id=\"76\" parent=\"1\" name=\"latin7_general_ci\">\r\n      <Charset>latin7</Charset>\r\n      <DefaultForCharset>1</DefaultForCharset>\r\n    </collation>\r\n    <collation id=\"77\" parent=\"1\" name=\"latin7_general_cs\">\r\n      <Charset>latin7</Charset>\r\n    </collation>\r\n    <collation id=\"78\" parent=\"1\" name=\"macce_bin\">\r\n      <Charset>macce</Charset>\r\n    </collation>\r\n    <collation id=\"79\" parent=\"1\" name=\"macce_general_ci\">\r\n      <Charset>macce</Charset>\r\n      <DefaultForCharset>1</DefaultForCharset>\r\n    </collation>\r\n    <collation id=\"80\" parent=\"1\" name=\"macroman_bin\">\r\n      <Charset>macroman</Charset>\r\n    </collation>\r\n    <collation id=\"81\" parent=\"1\" name=\"macroman_general_ci\">\r\n      <Charset>macroman</Charset>\r\n      <DefaultForCharset>1</DefaultForCharset>\r\n    </collation>\r\n    <collation id=\"82\" parent=\"1\" name=\"sjis_bin\">\r\n      <Charset>sjis</Charset>\r\n    </collation>\r\n    <collation id=\"83\" parent=\"1\" name=\"sjis_japanese_ci\">\r\n      <Charset>sjis</Charset>\r\n      <DefaultForCharset>1</DefaultForCharset>\r\n    </collation>\r\n    <collation id=\"84\" parent=\"1\" name=\"swe7_bin\">\r\n      <Charset>swe7</Charset>\r\n    </collation>\r\n    <collation id=\"85\" parent=\"1\" name=\"swe7_swedish_ci\">\r\n      <Charset>swe7</Charset>\r\n      <DefaultForCharset>1</DefaultForCharset>\r\n    </collation>\r\n    <collation id=\"86\" parent=\"1\" name=\"tis620_bin\">\r\n      <Charset>tis620</Charset>\r\n    </collation>\r\n    <collation id=\"87\" parent=\"1\" name=\"tis620_thai_ci\">\r\n      <Charset>tis620</Charset>\r\n      <DefaultForCharset>1</DefaultForCharset>\r\n    </collation>\r\n    <collation id=\"88\" parent=\"1\" name=\"ucs2_bin\">\r\n      <Charset>ucs2</Charset>\r\n    </collation>\r\n    <collation id=\"89\" parent=\"1\" name=\"ucs2_croatian_ci\">\r\n      <Charset>ucs2</Charset>\r\n    </collation>\r\n    <collation id=\"90\" parent=\"1\" name=\"ucs2_czech_ci\">\r\n      <Charset>ucs2</Charset>\r\n    </collation>\r\n    <collation id=\"91\" parent=\"1\" name=\"ucs2_danish_ci\">\r\n      <Charset>ucs2</Charset>\r\n    </collation>\r\n    <collation id=\"92\" parent=\"1\" name=\"ucs2_esperanto_ci\">\r\n      <Charset>ucs2</Charset>\r\n    </collation>\r\n    <collation id=\"93\" parent=\"1\" name=\"ucs2_estonian_ci\">\r\n      <Charset>ucs2</Charset>\r\n    </collation>\r\n    <collation id=\"94\" parent=\"1\" name=\"ucs2_general_ci\">\r\n      <Charset>ucs2</Charset>\r\n      <DefaultForCharset>1</DefaultForCharset>\r\n    </collation>\r\n    <collation id=\"95\" parent=\"1\" name=\"ucs2_general_mysql500_ci\">\r\n      <Charset>ucs2</Charset>\r\n    </collation>\r\n    <collation id=\"96\" parent=\"1\" name=\"ucs2_german2_ci\">\r\n      <Charset>ucs2</Charset>\r\n    </collation>\r\n    <collation id=\"97\" parent=\"1\" name=\"ucs2_hungarian_ci\">\r\n      <Charset>ucs2</Charset>\r\n    </collation>\r\n    <collation id=\"98\" parent=\"1\" name=\"ucs2_icelandic_ci\">\r\n      <Charset>ucs2</Charset>\r\n    </collation>\r\n    <collation id=\"99\" parent=\"1\" name=\"ucs2_latvian_ci\">\r\n      <Charset>ucs2</Charset>\r\n    </collation>\r\n    <collation id=\"100\" parent=\"1\" name=\"ucs2_lithuanian_ci\">\r\n      <Charset>ucs2</Charset>\r\n    </collation>\r\n    <collation id=\"101\" parent=\"1\" name=\"ucs2_persian_ci\">\r\n      <Charset>ucs2</Charset>\r\n    </collation>\r\n    <collation id=\"102\" parent=\"1\" name=\"ucs2_polish_ci\">\r\n      <Charset>ucs2</Charset>\r\n    </collation>\r\n    <collation id=\"103\" parent=\"1\" name=\"ucs2_roman_ci\">\r\n      <Charset>ucs2</Charset>\r\n    </collation>\r\n    <collation id=\"104\" parent=\"1\" name=\"ucs2_romanian_ci\">\r\n      <Charset>ucs2</Charset>\r\n    </collation>\r\n    <collation id=\"105\" parent=\"1\" name=\"ucs2_sinhala_ci\">\r\n      <Charset>ucs2</Charset>\r\n    </collation>\r\n    <collation id=\"106\" parent=\"1\" name=\"ucs2_slovak_ci\">\r\n      <Charset>ucs2</Charset>\r\n    </collation>\r\n    <collation id=\"107\" parent=\"1\" name=\"ucs2_slovenian_ci\">\r\n      <Charset>ucs2</Charset>\r\n    </collation>\r\n    <collation id=\"108\" parent=\"1\" name=\"ucs2_spanish2_ci\">\r\n      <Charset>ucs2</Charset>\r\n    </collation>\r\n    <collation id=\"109\" parent=\"1\" name=\"ucs2_spanish_ci\">\r\n      <Charset>ucs2</Charset>\r\n    </collation>\r\n    <collation id=\"110\" parent=\"1\" name=\"ucs2_swedish_ci\">\r\n      <Charset>ucs2</Charset>\r\n    </collation>\r\n    <collation id=\"111\" parent=\"1\" name=\"ucs2_turkish_ci\">\r\n      <Charset>ucs2</Charset>\r\n    </collation>\r\n    <collation id=\"112\" parent=\"1\" name=\"ucs2_unicode_520_ci\">\r\n      <Charset>ucs2</Charset>\r\n    </collation>\r\n    <collation id=\"113\" parent=\"1\" name=\"ucs2_unicode_ci\">\r\n      <Charset>ucs2</Charset>\r\n    </collation>\r\n    <collation id=\"114\" parent=\"1\" name=\"ucs2_vietnamese_ci\">\r\n      <Charset>ucs2</Charset>\r\n    </collation>\r\n    <collation id=\"115\" parent=\"1\" name=\"ujis_bin\">\r\n      <Charset>ujis</Charset>\r\n    </collation>\r\n    <collation id=\"116\" parent=\"1\" name=\"ujis_japanese_ci\">\r\n      <Charset>ujis</Charset>\r\n      <DefaultForCharset>1</DefaultForCharset>\r\n    </collation>\r\n    <collation id=\"117\" parent=\"1\" name=\"utf16_bin\">\r\n      <Charset>utf16</Charset>\r\n    </collation>\r\n    <collation id=\"118\" parent=\"1\" name=\"utf16_croatian_ci\">\r\n      <Charset>utf16</Charset>\r\n    </collation>\r\n    <collation id=\"119\" parent=\"1\" name=\"utf16_czech_ci\">\r\n      <Charset>utf16</Charset>\r\n    </collation>\r\n    <collation id=\"120\" parent=\"1\" name=\"utf16_danish_ci\">\r\n      <Charset>utf16</Charset>\r\n    </collation>\r\n    <collation id=\"121\" parent=\"1\" name=\"utf16_esperanto_ci\">\r\n      <Charset>utf16</Charset>\r\n    </collation>\r\n    <collation id=\"122\" parent=\"1\" name=\"utf16_estonian_ci\">\r\n      <Charset>utf16</Charset>\r\n    </collation>\r\n    <collation id=\"123\" parent=\"1\" name=\"utf16_general_ci\">\r\n      <Charset>utf16</Charset>\r\n      <DefaultForCharset>1</DefaultForCharset>\r\n    </collation>\r\n    <collation id=\"124\" parent=\"1\" name=\"utf16_german2_ci\">\r\n      <Charset>utf16</Charset>\r\n    </collation>\r\n    <collation id=\"125\" parent=\"1\" name=\"utf16_hungarian_ci\">\r\n      <Charset>utf16</Charset>\r\n    </collation>\r\n    <collation id=\"126\" parent=\"1\" name=\"utf16_icelandic_ci\">\r\n      <Charset>utf16</Charset>\r\n    </collation>\r\n    <collation id=\"127\" parent=\"1\" name=\"utf16_latvian_ci\">\r\n      <Charset>utf16</Charset>\r\n    </collation>\r\n    <collation id=\"128\" parent=\"1\" name=\"utf16_lithuanian_ci\">\r\n      <Charset>utf16</Charset>\r\n    </collation>\r\n    <collation id=\"129\" parent=\"1\" name=\"utf16_persian_ci\">\r\n      <Charset>utf16</Charset>\r\n    </collation>\r\n    <collation id=\"130\" parent=\"1\" name=\"utf16_polish_ci\">\r\n      <Charset>utf16</Charset>\r\n    </collation>\r\n    <collation id=\"131\" parent=\"1\" name=\"utf16_roman_ci\">\r\n      <Charset>utf16</Charset>\r\n    </collation>\r\n    <collation id=\"132\" parent=\"1\" name=\"utf16_romanian_ci\">\r\n      <Charset>utf16</Charset>\r\n    </collation>\r\n    <collation id=\"133\" parent=\"1\" name=\"utf16_sinhala_ci\">\r\n      <Charset>utf16</Charset>\r\n    </collation>\r\n    <collation id=\"134\" parent=\"1\" name=\"utf16_slovak_ci\">\r\n      <Charset>utf16</Charset>\r\n    </collation>\r\n    <collation id=\"135\" parent=\"1\" name=\"utf16_slovenian_ci\">\r\n      <Charset>utf16</Charset>\r\n    </collation>\r\n    <collation id=\"136\" parent=\"1\" name=\"utf16_spanish2_ci\">\r\n      <Charset>utf16</Charset>\r\n    </collation>\r\n    <collation id=\"137\" parent=\"1\" name=\"utf16_spanish_ci\">\r\n      <Charset>utf16</Charset>\r\n    </collation>\r\n    <collation id=\"138\" parent=\"1\" name=\"utf16_swedish_ci\">\r\n      <Charset>utf16</Charset>\r\n    </collation>\r\n    <collation id=\"139\" parent=\"1\" name=\"utf16_turkish_ci\">\r\n      <Charset>utf16</Charset>\r\n    </collation>\r\n    <collation id=\"140\" parent=\"1\" name=\"utf16_unicode_520_ci\">\r\n      <Charset>utf16</Charset>\r\n    </collation>\r\n    <collation id=\"141\" parent=\"1\" name=\"utf16_unicode_ci\">\r\n      <Charset>utf16</Charset>\r\n    </collation>\r\n    <collation id=\"142\" parent=\"1\" name=\"utf16_vietnamese_ci\">\r\n      <Charset>utf16</Charset>\r\n    </collation>\r\n    <collation id=\"143\" parent=\"1\" name=\"utf16le_bin\">\r\n      <Charset>utf16le</Charset>\r\n    </collation>\r\n    <collation id=\"144\" parent=\"1\" name=\"utf16le_general_ci\">\r\n      <Charset>utf16le</Charset>\r\n      <DefaultForCharset>1</DefaultForCharset>\r\n    </collation>\r\n    <collation id=\"145\" parent=\"1\" name=\"utf32_bin\">\r\n      <Charset>utf32</Charset>\r\n    </collation>\r\n    <collation id=\"146\" parent=\"1\" name=\"utf32_croatian_ci\">\r\n      <Charset>utf32</Charset>\r\n    </collation>\r\n    <collation id=\"147\" parent=\"1\" name=\"utf32_czech_ci\">\r\n      <Charset>utf32</Charset>\r\n    </collation>\r\n    <collation id=\"148\" parent=\"1\" name=\"utf32_danish_ci\">\r\n      <Charset>utf32</Charset>\r\n    </collation>\r\n    <collation id=\"149\" parent=\"1\" name=\"utf32_esperanto_ci\">\r\n      <Charset>utf32</Charset>\r\n    </collation>\r\n    <collation id=\"150\" parent=\"1\" name=\"utf32_estonian_ci\">\r\n      <Charset>utf32</Charset>\r\n    </collation>\r\n    <collation id=\"151\" parent=\"1\" name=\"utf32_general_ci\">\r\n      <Charset>utf32</Charset>\r\n      <DefaultForCharset>1</DefaultForCharset>\r\n    </collation>\r\n    <collation id=\"152\" parent=\"1\" name=\"utf32_german2_ci\">\r\n      <Charset>utf32</Charset>\r\n    </collation>\r\n    <collation id=\"153\" parent=\"1\" name=\"utf32_hungarian_ci\">\r\n      <Charset>utf32</Charset>\r\n    </collation>\r\n    <collation id=\"154\" parent=\"1\" name=\"utf32_icelandic_ci\">\r\n      <Charset>utf32</Charset>\r\n    </collation>\r\n    <collation id=\"155\" parent=\"1\" name=\"utf32_latvian_ci\">\r\n      <Charset>utf32</Charset>\r\n    </collation>\r\n    <collation id=\"156\" parent=\"1\" name=\"utf32_lithuanian_ci\">\r\n      <Charset>utf32</Charset>\r\n    </collation>\r\n    <collation id=\"157\" parent=\"1\" name=\"utf32_persian_ci\">\r\n      <Charset>utf32</Charset>\r\n    </collation>\r\n    <collation id=\"158\" parent=\"1\" name=\"utf32_polish_ci\">\r\n      <Charset>utf32</Charset>\r\n    </collation>\r\n    <collation id=\"159\" parent=\"1\" name=\"utf32_roman_ci\">\r\n      <Charset>utf32</Charset>\r\n    </collation>\r\n    <collation id=\"160\" parent=\"1\" name=\"utf32_romanian_ci\">\r\n      <Charset>utf32</Charset>\r\n    </collation>\r\n    <collation id=\"161\" parent=\"1\" name=\"utf32_sinhala_ci\">\r\n      <Charset>utf32</Charset>\r\n    </collation>\r\n    <collation id=\"162\" parent=\"1\" name=\"utf32_slovak_ci\">\r\n      <Charset>utf32</Charset>\r\n    </collation>\r\n    <collation id=\"163\" parent=\"1\" name=\"utf32_slovenian_ci\">\r\n      <Charset>utf32</Charset>\r\n    </collation>\r\n    <collation id=\"164\" parent=\"1\" name=\"utf32_spanish2_ci\">\r\n      <Charset>utf32</Charset>\r\n    </collation>\r\n    <collation id=\"165\" parent=\"1\" name=\"utf32_spanish_ci\">\r\n      <Charset>utf32</Charset>\r\n    </collation>\r\n    <collation id=\"166\" parent=\"1\" name=\"utf32_swedish_ci\">\r\n      <Charset>utf32</Charset>\r\n    </collation>\r\n    <collation id=\"167\" parent=\"1\" name=\"utf32_turkish_ci\">\r\n      <Charset>utf32</Charset>\r\n    </collation>\r\n    <collation id=\"168\" parent=\"1\" name=\"utf32_unicode_520_ci\">\r\n      <Charset>utf32</Charset>\r\n    </collation>\r\n    <collation id=\"169\" parent=\"1\" name=\"utf32_unicode_ci\">\r\n      <Charset>utf32</Charset>\r\n    </collation>\r\n    <collation id=\"170\" parent=\"1\" name=\"utf32_vietnamese_ci\">\r\n      <Charset>utf32</Charset>\r\n    </collation>\r\n    <collation id=\"171\" parent=\"1\" name=\"utf8_bin\">\r\n      <Charset>utf8</Charset>\r\n    </collation>\r\n    <collation id=\"172\" parent=\"1\" name=\"utf8_croatian_ci\">\r\n      <Charset>utf8</Charset>\r\n    </collation>\r\n    <collation id=\"173\" parent=\"1\" name=\"utf8_czech_ci\">\r\n      <Charset>utf8</Charset>\r\n    </collation>\r\n    <collation id=\"174\" parent=\"1\" name=\"utf8_danish_ci\">\r\n      <Charset>utf8</Charset>\r\n    </collation>\r\n    <collation id=\"175\" parent=\"1\" name=\"utf8_esperanto_ci\">\r\n      <Charset>utf8</Charset>\r\n    </collation>\r\n    <collation id=\"176\" parent=\"1\" name=\"utf8_estonian_ci\">\r\n      <Charset>utf8</Charset>\r\n    </collation>\r\n    <collation id=\"177\" parent=\"1\" name=\"utf8_general_ci\">\r\n      <Charset>utf8</Charset>\r\n      <DefaultForCharset>1</DefaultForCharset>\r\n    </collation>\r\n    <collation id=\"178\" parent=\"1\" name=\"utf8_general_mysql500_ci\">\r\n      <Charset>utf8</Charset>\r\n    </collation>\r\n    <collation id=\"179\" parent=\"1\" name=\"utf8_german2_ci\">\r\n      <Charset>utf8</Charset>\r\n    </collation>\r\n    <collation id=\"180\" parent=\"1\" name=\"utf8_hungarian_ci\">\r\n      <Charset>utf8</Charset>\r\n    </collation>\r\n    <collation id=\"181\" parent=\"1\" name=\"utf8_icelandic_ci\">\r\n      <Charset>utf8</Charset>\r\n    </collation>\r\n    <collation id=\"182\" parent=\"1\" name=\"utf8_latvian_ci\">\r\n      <Charset>utf8</Charset>\r\n    </collation>\r\n    <collation id=\"183\" parent=\"1\" name=\"utf8_lithuanian_ci\">\r\n      <Charset>utf8</Charset>\r\n    </collation>\r\n    <collation id=\"184\" parent=\"1\" name=\"utf8_persian_ci\">\r\n      <Charset>utf8</Charset>\r\n    </collation>\r\n    <collation id=\"185\" parent=\"1\" name=\"utf8_polish_ci\">\r\n      <Charset>utf8</Charset>\r\n    </collation>\r\n    <collation id=\"186\" parent=\"1\" name=\"utf8_roman_ci\">\r\n      <Charset>utf8</Charset>\r\n    </collation>\r\n    <collation id=\"187\" parent=\"1\" name=\"utf8_romanian_ci\">\r\n      <Charset>utf8</Charset>\r\n    </collation>\r\n    <collation id=\"188\" parent=\"1\" name=\"utf8_sinhala_ci\">\r\n      <Charset>utf8</Charset>\r\n    </collation>\r\n    <collation id=\"189\" parent=\"1\" name=\"utf8_slovak_ci\">\r\n      <Charset>utf8</Charset>\r\n    </collation>\r\n    <collation id=\"190\" parent=\"1\" name=\"utf8_slovenian_ci\">\r\n      <Charset>utf8</Charset>\r\n    </collation>\r\n    <collation id=\"191\" parent=\"1\" name=\"utf8_spanish2_ci\">\r\n      <Charset>utf8</Charset>\r\n    </collation>\r\n    <collation id=\"192\" parent=\"1\" name=\"utf8_spanish_ci\">\r\n      <Charset>utf8</Charset>\r\n    </collation>\r\n    <collation id=\"193\" parent=\"1\" name=\"utf8_swedish_ci\">\r\n      <Charset>utf8</Charset>\r\n    </collation>\r\n    <collation id=\"194\" parent=\"1\" name=\"utf8_tolower_ci\">\r\n      <Charset>utf8</Charset>\r\n    </collation>\r\n    <collation id=\"195\" parent=\"1\" name=\"utf8_turkish_ci\">\r\n      <Charset>utf8</Charset>\r\n    </collation>\r\n    <collation id=\"196\" parent=\"1\" name=\"utf8_unicode_520_ci\">\r\n      <Charset>utf8</Charset>\r\n    </collation>\r\n    <collation id=\"197\" parent=\"1\" name=\"utf8_unicode_ci\">\r\n      <Charset>utf8</Charset>\r\n    </collation>\r\n    <collation id=\"198\" parent=\"1\" name=\"utf8_vietnamese_ci\">\r\n      <Charset>utf8</Charset>\r\n    </collation>\r\n    <collation id=\"199\" parent=\"1\" name=\"utf8mb4_0900_ai_ci\">\r\n      <Charset>utf8mb4</Charset>\r\n      <DefaultForCharset>1</DefaultForCharset>\r\n    </collation>\r\n    <collation id=\"200\" parent=\"1\" name=\"utf8mb4_0900_as_ci\">\r\n      <Charset>utf8mb4</Charset>\r\n    </collation>\r\n    <collation id=\"201\" parent=\"1\" name=\"utf8mb4_0900_as_cs\">\r\n      <Charset>utf8mb4</Charset>\r\n    </collation>\r\n    <collation id=\"202\" parent=\"1\" name=\"utf8mb4_0900_bin\">\r\n      <Charset>utf8mb4</Charset>\r\n    </collation>\r\n    <collation id=\"203\" parent=\"1\" name=\"utf8mb4_bin\">\r\n      <Charset>utf8mb4</Charset>\r\n    </collation>\r\n    <collation id=\"204\" parent=\"1\" name=\"utf8mb4_croatian_ci\">\r\n      <Charset>utf8mb4</Charset>\r\n    </collation>\r\n    <collation id=\"205\" parent=\"1\" name=\"utf8mb4_cs_0900_ai_ci\">\r\n      <Charset>utf8mb4</Charset>\r\n    </collation>\r\n    <collation id=\"206\" parent=\"1\" name=\"utf8mb4_cs_0900_as_cs\">\r\n      <Charset>utf8mb4</Charset>\r\n    </collation>\r\n    <collation id=\"207\" parent=\"1\" name=\"utf8mb4_czech_ci\">\r\n      <Charset>utf8mb4</Charset>\r\n    </collation>\r\n    <collation id=\"208\" parent=\"1\" name=\"utf8mb4_da_0900_ai_ci\">\r\n      <Charset>utf8mb4</Charset>\r\n    </collation>\r\n    <collation id=\"209\" parent=\"1\" name=\"utf8mb4_da_0900_as_cs\">\r\n      <Charset>utf8mb4</Charset>\r\n    </collation>\r\n    <collation id=\"210\" parent=\"1\" name=\"utf8mb4_danish_ci\">\r\n      <Charset>utf8mb4</Charset>\r\n    </collation>\r\n    <collation id=\"211\" parent=\"1\" name=\"utf8mb4_de_pb_0900_ai_ci\">\r\n      <Charset>utf8mb4</Charset>\r\n    </collation>\r\n    <collation id=\"212\" parent=\"1\" name=\"utf8mb4_de_pb_0900_as_cs\">\r\n      <Charset>utf8mb4</Charset>\r\n    </collation>\r\n    <collation id=\"213\" parent=\"1\" name=\"utf8mb4_eo_0900_ai_ci\">\r\n      <Charset>utf8mb4</Charset>\r\n    </collation>\r\n    <collation id=\"214\" parent=\"1\" name=\"utf8mb4_eo_0900_as_cs\">\r\n      <Charset>utf8mb4</Charset>\r\n    </collation>\r\n    <collation id=\"215\" parent=\"1\" name=\"utf8mb4_es_0900_ai_ci\">\r\n      <Charset>utf8mb4</Charset>\r\n    </collation>\r\n    <collation id=\"216\" parent=\"1\" name=\"utf8mb4_es_0900_as_cs\">\r\n      <Charset>utf8mb4</Charset>\r\n    </collation>\r\n    <collation id=\"217\" parent=\"1\" name=\"utf8mb4_es_trad_0900_ai_ci\">\r\n      <Charset>utf8mb4</Charset>\r\n    </collation>\r\n    <collation id=\"218\" parent=\"1\" name=\"utf8mb4_es_trad_0900_as_cs\">\r\n      <Charset>utf8mb4</Charset>\r\n    </collation>\r\n    <collation id=\"219\" parent=\"1\" name=\"utf8mb4_esperanto_ci\">\r\n      <Charset>utf8mb4</Charset>\r\n    </collation>\r\n    <collation id=\"220\" parent=\"1\" name=\"utf8mb4_estonian_ci\">\r\n      <Charset>utf8mb4</Charset>\r\n    </collation>\r\n    <collation id=\"221\" parent=\"1\" name=\"utf8mb4_et_0900_ai_ci\">\r\n      <Charset>utf8mb4</Charset>\r\n    </collation>\r\n    <collation id=\"222\" parent=\"1\" name=\"utf8mb4_et_0900_as_cs\">\r\n      <Charset>utf8mb4</Charset>\r\n    </collation>\r\n    <collation id=\"223\" parent=\"1\" name=\"utf8mb4_general_ci\">\r\n      <Charset>utf8mb4</Charset>\r\n    </collation>\r\n    <collation id=\"224\" parent=\"1\" name=\"utf8mb4_german2_ci\">\r\n      <Charset>utf8mb4</Charset>\r\n    </collation>\r\n    <collation id=\"225\" parent=\"1\" name=\"utf8mb4_hr_0900_ai_ci\">\r\n      <Charset>utf8mb4</Charset>\r\n    </collation>\r\n    <collation id=\"226\" parent=\"1\" name=\"utf8mb4_hr_0900_as_cs\">\r\n      <Charset>utf8mb4</Charset>\r\n    </collation>\r\n    <collation id=\"227\" parent=\"1\" name=\"utf8mb4_hu_0900_ai_ci\">\r\n      <Charset>utf8mb4</Charset>\r\n    </collation>\r\n    <collation id=\"228\" parent=\"1\" name=\"utf8mb4_hu_0900_as_cs\">\r\n      <Charset>utf8mb4</Charset>\r\n    </collation>\r\n    <collation id=\"229\" parent=\"1\" name=\"utf8mb4_hungarian_ci\">\r\n      <Charset>utf8mb4</Charset>\r\n    </collation>\r\n    <collation id=\"230\" parent=\"1\" name=\"utf8mb4_icelandic_ci\">\r\n      <Charset>utf8mb4</Charset>\r\n    </collation>\r\n    <collation id=\"231\" parent=\"1\" name=\"utf8mb4_is_0900_ai_ci\">\r\n      <Charset>utf8mb4</Charset>\r\n    </collation>\r\n    <collation id=\"232\" parent=\"1\" name=\"utf8mb4_is_0900_as_cs\">\r\n      <Charset>utf8mb4</Charset>\r\n    </collation>\r\n    <collation id=\"233\" parent=\"1\" name=\"utf8mb4_ja_0900_as_cs\">\r\n      <Charset>utf8mb4</Charset>\r\n    </collation>\r\n    <collation id=\"234\" parent=\"1\" name=\"utf8mb4_ja_0900_as_cs_ks\">\r\n      <Charset>utf8mb4</Charset>\r\n    </collation>\r\n    <collation id=\"235\" parent=\"1\" name=\"utf8mb4_la_0900_ai_ci\">\r\n      <Charset>utf8mb4</Charset>\r\n    </collation>\r\n    <collation id=\"236\" parent=\"1\" name=\"utf8mb4_la_0900_as_cs\">\r\n      <Charset>utf8mb4</Charset>\r\n    </collation>\r\n    <collation id=\"237\" parent=\"1\" name=\"utf8mb4_latvian_ci\">\r\n      <Charset>utf8mb4</Charset>\r\n    </collation>\r\n    <collation id=\"238\" parent=\"1\" name=\"utf8mb4_lithuanian_ci\">\r\n      <Charset>utf8mb4</Charset>\r\n    </collation>\r\n    <collation id=\"239\" parent=\"1\" name=\"utf8mb4_lt_0900_ai_ci\">\r\n      <Charset>utf8mb4</Charset>\r\n    </collation>\r\n    <collation id=\"240\" parent=\"1\" name=\"utf8mb4_lt_0900_as_cs\">\r\n      <Charset>utf8mb4</Charset>\r\n    </collation>\r\n    <collation id=\"241\" parent=\"1\" name=\"utf8mb4_lv_0900_ai_ci\">\r\n      <Charset>utf8mb4</Charset>\r\n    </collation>\r\n    <collation id=\"242\" parent=\"1\" name=\"utf8mb4_lv_0900_as_cs\">\r\n      <Charset>utf8mb4</Charset>\r\n    </collation>\r\n    <collation id=\"243\" parent=\"1\" name=\"utf8mb4_persian_ci\">\r\n      <Charset>utf8mb4</Charset>\r\n    </collation>\r\n    <collation id=\"244\" parent=\"1\" name=\"utf8mb4_pl_0900_ai_ci\">\r\n      <Charset>utf8mb4</Charset>\r\n    </collation>\r\n    <collation id=\"245\" parent=\"1\" name=\"utf8mb4_pl_0900_as_cs\">\r\n      <Charset>utf8mb4</Charset>\r\n    </collation>\r\n    <collation id=\"246\" parent=\"1\" name=\"utf8mb4_polish_ci\">\r\n      <Charset>utf8mb4</Charset>\r\n    </collation>\r\n    <collation id=\"247\" parent=\"1\" name=\"utf8mb4_ro_0900_ai_ci\">\r\n      <Charset>utf8mb4</Charset>\r\n    </collation>\r\n    <collation id=\"248\" parent=\"1\" name=\"utf8mb4_ro_0900_as_cs\">\r\n      <Charset>utf8mb4</Charset>\r\n    </collation>\r\n    <collation id=\"249\" parent=\"1\" name=\"utf8mb4_roman_ci\">\r\n      <Charset>utf8mb4</Charset>\r\n    </collation>\r\n    <collation id=\"250\" parent=\"1\" name=\"utf8mb4_romanian_ci\">\r\n      <Charset>utf8mb4</Charset>\r\n    </collation>\r\n    <collation id=\"251\" parent=\"1\" name=\"utf8mb4_ru_0900_ai_ci\">\r\n      <Charset>utf8mb4</Charset>\r\n    </collation>\r\n    <collation id=\"252\" parent=\"1\" name=\"utf8mb4_ru_0900_as_cs\">\r\n      <Charset>utf8mb4</Charset>\r\n    </collation>\r\n    <collation id=\"253\" parent=\"1\" name=\"utf8mb4_sinhala_ci\">\r\n      <Charset>utf8mb4</Charset>\r\n    </collation>\r\n    <collation id=\"254\" parent=\"1\" name=\"utf8mb4_sk_0900_ai_ci\">\r\n      <Charset>utf8mb4</Charset>\r\n    </collation>\r\n    <collation id=\"255\" parent=\"1\" name=\"utf8mb4_sk_0900_as_cs\">\r\n      <Charset>utf8mb4</Charset>\r\n    </collation>\r\n    <collation id=\"256\" parent=\"1\" name=\"utf8mb4_sl_0900_ai_ci\">\r\n      <Charset>utf8mb4</Charset>\r\n    </collation>\r\n    <collation id=\"257\" parent=\"1\" name=\"utf8mb4_sl_0900_as_cs\">\r\n      <Charset>utf8mb4</Charset>\r\n    </collation>\r\n    <collation id=\"258\" parent=\"1\" name=\"utf8mb4_slovak_ci\">\r\n      <Charset>utf8mb4</Charset>\r\n    </collation>\r\n    <collation id=\"259\" parent=\"1\" name=\"utf8mb4_slovenian_ci\">\r\n      <Charset>utf8mb4</Charset>\r\n    </collation>\r\n    <collation id=\"260\" parent=\"1\" name=\"utf8mb4_spanish2_ci\">\r\n      <Charset>utf8mb4</Charset>\r\n    </collation>\r\n    <collation id=\"261\" parent=\"1\" name=\"utf8mb4_spanish_ci\">\r\n      <Charset>utf8mb4</Charset>\r\n    </collation>\r\n    <collation id=\"262\" parent=\"1\" name=\"utf8mb4_sv_0900_ai_ci\">\r\n      <Charset>utf8mb4</Charset>\r\n    </collation>\r\n    <collation id=\"263\" parent=\"1\" name=\"utf8mb4_sv_0900_as_cs\">\r\n      <Charset>utf8mb4</Charset>\r\n    </collation>\r\n    <collation id=\"264\" parent=\"1\" name=\"utf8mb4_swedish_ci\">\r\n      <Charset>utf8mb4</Charset>\r\n    </collation>\r\n    <collation id=\"265\" parent=\"1\" name=\"utf8mb4_tr_0900_ai_ci\">\r\n      <Charset>utf8mb4</Charset>\r\n    </collation>\r\n    <collation id=\"266\" parent=\"1\" name=\"utf8mb4_tr_0900_as_cs\">\r\n      <Charset>utf8mb4</Charset>\r\n    </collation>\r\n    <collation id=\"267\" parent=\"1\" name=\"utf8mb4_turkish_ci\">\r\n      <Charset>utf8mb4</Charset>\r\n    </collation>\r\n    <collation id=\"268\" parent=\"1\" name=\"utf8mb4_unicode_520_ci\">\r\n      <Charset>utf8mb4</Charset>\r\n    </collation>\r\n    <collation id=\"269\" parent=\"1\" name=\"utf8mb4_unicode_ci\">\r\n      <Charset>utf8mb4</Charset>\r\n    </collation>\r\n    <collation id=\"270\" parent=\"1\" name=\"utf8mb4_vi_0900_ai_ci\">\r\n      <Charset>utf8mb4</Charset>\r\n    </collation>\r\n    <collation id=\"271\" parent=\"1\" name=\"utf8mb4_vi_0900_as_cs\">\r\n      <Charset>utf8mb4</Charset>\r\n    </collation>\r\n    <collation id=\"272\" parent=\"1\" name=\"utf8mb4_vietnamese_ci\">\r\n      <Charset>utf8mb4</Charset>\r\n    </collation>\r\n    <collation id=\"273\" parent=\"1\" name=\"utf8mb4_zh_0900_as_cs\">\r\n      <Charset>utf8mb4</Charset>\r\n    </collation>\r\n    <schema id=\"274\" parent=\"1\" name=\"__recycle_bin__\">\r\n      <CollationName>utf8mb4_0900_ai_ci</CollationName>\r\n    </schema>\r\n    <schema id=\"275\" parent=\"1\" name=\"information_schema\">\r\n      <CollationName>utf8_general_ci</CollationName>\r\n    </schema>\r\n    <schema id=\"276\" parent=\"1\" name=\"mysql\">\r\n      <CollationName>utf8_general_ci</CollationName>\r\n    </schema>\r\n    <schema id=\"277\" parent=\"1\" name=\"nacos\">\r\n      <CollationName>utf8_bin</CollationName>\r\n    </schema>\r\n    <schema id=\"278\" parent=\"1\" name=\"performance_schema\">\r\n      <CollationName>utf8mb4_0900_ai_ci</CollationName>\r\n    </schema>\r\n    <schema id=\"279\" parent=\"1\" name=\"questionnaire\">\r\n      <Current>1</Current>\r\n      <CollationName>utf8_general_ci</CollationName>\r\n    </schema>\r\n    <schema id=\"280\" parent=\"1\" name=\"sys\">\r\n      <CollationName>utf8mb4_0900_ai_ci</CollationName>\r\n    </schema>\r\n    <user id=\"281\" parent=\"1\" name=\"aliyun_root\">\r\n      <Host>127.0.0.1</Host>\r\n    </user>\r\n    <user id=\"282\" parent=\"1\" name=\"aurora\">\r\n      <Host>%</Host>\r\n    </user>\r\n    <user id=\"283\" parent=\"1\" name=\"mysql.infoschema\">\r\n      <Host>localhost</Host>\r\n    </user>\r\n    <user id=\"284\" parent=\"1\" name=\"mysql.session\">\r\n      <Host>localhost</Host>\r\n    </user>\r\n    <user id=\"285\" parent=\"1\" name=\"mysql.sys\">\r\n      <Host>localhost</Host>\r\n    </user>\r\n    <user id=\"286\" parent=\"1\" name=\"neueduxiong\">\r\n      <Host>%</Host>\r\n    </user>\r\n    <table id=\"287\" parent=\"279\" name=\"project_info\"/>\r\n    <table id=\"288\" parent=\"279\" name=\"user_info\"/>\r\n    <column id=\"289\" parent=\"287\" name=\"id\">\r\n      <Comment>项目表主键</Comment>\r\n      <DataType>varchar(50)|0s</DataType>\r\n      <NotNull>1</NotNull>\r\n      <Position>1</Position>\r\n    </column>\r\n    <column id=\"290\" parent=\"287\" name=\"user_id\">\r\n      <Comment>用户id（没有用）</Comment>\r\n      <DataType>varchar(50)|0s</DataType>\r\n      <Position>2</Position>\r\n    </column>\r\n    <column id=\"291\" parent=\"287\" name=\"project_name\">\r\n      <Comment>项目名称</Comment>\r\n      <DataType>varchar(100)|0s</DataType>\r\n      <Position>3</Position>\r\n    </column>\r\n    <column id=\"292\" parent=\"287\" name=\"project_content\">\r\n      <Comment>项目说明</Comment>\r\n      <DataType>text|0s</DataType>\r\n      <Position>4</Position>\r\n    </column>\r\n    <column id=\"293\" parent=\"287\" name=\"created_by\">\r\n      <Comment>创建人</Comment>\r\n      <DataType>char(32)|0s</DataType>\r\n      <Position>5</Position>\r\n    </column>\r\n    <column id=\"294\" parent=\"287\" name=\"creation_date\">\r\n      <Comment>创建时间</Comment>\r\n      <DataType>datetime|0s</DataType>\r\n      <Position>6</Position>\r\n    </column>\r\n    <column id=\"295\" parent=\"287\" name=\"last_updated_by\">\r\n      <Comment>最后修改人</Comment>\r\n      <DataType>char(32)|0s</DataType>\r\n      <Position>7</Position>\r\n    </column>\r\n    <column id=\"296\" parent=\"287\" name=\"last_update_date\">\r\n      <Comment>最后修改时间</Comment>\r\n      <DataType>datetime|0s</DataType>\r\n      <Position>8</Position>\r\n    </column>\r\n    <key id=\"297\" parent=\"287\" name=\"PRIMARY\">\r\n      <ColNames>id</ColNames>\r\n      <NameSurrogate>1</NameSurrogate>\r\n      <Primary>1</Primary>\r\n    </key>\r\n    <column id=\"298\" parent=\"288\" name=\"id\">\r\n      <Comment>用户表主键</Comment>\r\n      <DataType>varchar(50)|0s</DataType>\r\n      <NotNull>1</NotNull>\r\n      <Position>1</Position>\r\n    </column>\r\n    <column id=\"299\" parent=\"288\" name=\"username\">\r\n      <Comment>用户名</Comment>\r\n      <DataType>varchar(10)|0s</DataType>\r\n      <Position>2</Position>\r\n    </column>\r\n    <column id=\"300\" parent=\"288\" name=\"password\">\r\n      <Comment>密码</Comment>\r\n      <DataType>varchar(10)|0s</DataType>\r\n      <Position>3</Position>\r\n    </column>\r\n    <column id=\"301\" parent=\"288\" name=\"start_time\">\r\n      <Comment>开始时间</Comment>\r\n      <DataType>datetime|0s</DataType>\r\n      <Position>4</Position>\r\n    </column>\r\n    <column id=\"302\" parent=\"288\" name=\"stop_time\">\r\n      <Comment>截止时间（时间戳）</Comment>\r\n      <DataType>datetime|0s</DataType>\r\n      <Position>5</Position>\r\n    </column>\r\n    <column id=\"303\" parent=\"288\" name=\"status\">\r\n      <Comment>是否启用（1启用，0不启用）</Comment>\r\n      <DataType>varchar(2)|0s</DataType>\r\n      <Position>6</Position>\r\n    </column>\r\n    <column id=\"304\" parent=\"288\" name=\"created_by\">\r\n      <Comment>创建人</Comment>\r\n      <DataType>char(32)|0s</DataType>\r\n      <Position>7</Position>\r\n    </column>\r\n    <column id=\"305\" parent=\"288\" name=\"creation_date\">\r\n      <Comment>创建时间</Comment>\r\n      <DataType>datetime|0s</DataType>\r\n      <Position>8</Position>\r\n    </column>\r\n    <column id=\"306\" parent=\"288\" name=\"last_updated_by\">\r\n      <Comment>最后修改人</Comment>\r\n      <DataType>char(32)|0s</DataType>\r\n      <Position>9</Position>\r\n    </column>\r\n    <column id=\"307\" parent=\"288\" name=\"last_update_date\">\r\n      <Comment>最后修改时间</Comment>\r\n      <DataType>datetime|0s</DataType>\r\n      <Position>10</Position>\r\n    </column>\r\n    <column id=\"308\" parent=\"288\" name=\"role_id\">\r\n      <DataType>varchar(50)|0s</DataType>\r\n      <DefaultExpression>&apos;0&apos;</DefaultExpression>\r\n      <Position>11</Position>\r\n    </column>\r\n    <key id=\"309\" parent=\"288\" name=\"PRIMARY\">\r\n      <ColNames>id</ColNames>\r\n      <NameSurrogate>1</NameSurrogate>\r\n      <Primary>1</Primary>\r\n    </key>\r\n  </database-model>\r\n</dataSource>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/dataSources/2ab4efbc-761c-47ae-8a1a-022d435d0a47.xml b/.idea/dataSources/2ab4efbc-761c-47ae-8a1a-022d435d0a47.xml
--- a/.idea/dataSources/2ab4efbc-761c-47ae-8a1a-022d435d0a47.xml	(revision 4fd5abff4e98fd9fdc9423ae14e13c9121fc2353)
+++ b/.idea/dataSources/2ab4efbc-761c-47ae-8a1a-022d435d0a47.xml	(date 1656826601994)
@@ -1,6 +1,6 @@
 <?xml version="1.0" encoding="UTF-8"?>
 <dataSource name="aliyun">
-  <database-model serializer="dbm" dbms="MYSQL" family-id="MYSQL" format-version="4.39">
+  <database-model serializer="dbm" dbms="MYSQL" family-id="MYSQL" format-version="4.40">
     <root id="1">
       <DefaultCasing>lower/lower</DefaultCasing>
       <DefaultEngine>InnoDB</DefaultEngine>
@@ -948,9 +948,9 @@
       <Position>8</Position>
     </column>
     <key id="297" parent="287" name="PRIMARY">
-      <ColNames>id</ColNames>
       <NameSurrogate>1</NameSurrogate>
       <Primary>1</Primary>
+      <UnderlyingIndexColNames>id</UnderlyingIndexColNames>
     </key>
     <column id="298" parent="288" name="id">
       <Comment>用户表主键</Comment>
@@ -1009,9 +1009,9 @@
       <Position>11</Position>
     </column>
     <key id="309" parent="288" name="PRIMARY">
-      <ColNames>id</ColNames>
       <NameSurrogate>1</NameSurrogate>
       <Primary>1</Primary>
+      <UnderlyingIndexColNames>id</UnderlyingIndexColNames>
     </key>
   </database-model>
 </dataSource>
\ No newline at end of file
Index: target/classes/static/pages/answerQuestionJs/designQuestionnaire.js
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>var tipMsg = \"在此题后插入新题\";\r\nvar movie_boxForInsert = '<div class=\"movie_box\" style=\"border: 1px solid rgb(255, 255, 255);\"></div>';\r\nvar newContain = '';\r\nvar questionList = [];    //所有题和选项\r\nvar questionTitles = '';   //所有的题目\r\nvar questionInfo = '';\r\nvar projectId = '';\r\nvar dataId = '';\r\nvar endTime = '';\r\nvar startTime = '';\r\nvar questionIdForChange = '';\r\nvar questionStop = '';\r\n\r\n//判断cookie里有没有问卷id、项目id\r\nvar aaa = 0;\r\nvar bbb = 0;\r\nvar questionId\r\n$(function () {\r\n    console.log(getCookie(\"QuestionId\"));\r\n    deleteCookie('previewId');\r\n    var urlObj = GetRequest();\r\n    if (Object.keys(urlObj).length == 0) {\r\n        setCookie('QuestionId', getCookie(\"QuestionId\"));\r\n        var da = {'id': getCookie(\"QuestionId\")};\r\n        console.log(getCookie(\"QuestionId\"));\r\n    } else {\r\n        deleteCookie('QuestionId');\r\n        deleteCookie('isEdit');\r\n        deleteCookie('projectIdForCreate');\r\n        var qId = urlObj.qId;\r\n        var i = urlObj.i;\r\n        var qIdStr = \"\";\r\n        if (qId != undefined) {\r\n            qIdStr = $.base64.decode(qId);\r\n            setCookie('QuestionId', qIdStr);\r\n            //如果为编辑模板就不清空QuestionId\r\n            setCookie('isEdit', '1');\r\n        } else if (i != undefined) {\r\n            qIdStr = $.base64.decode(i);\r\n            setCookie('QuestionId', qIdStr);\r\n        }\r\n        questionId = qIdStr;\r\n        var da = {'questionId': questionId};\r\n    }\r\n\r\n    var url = '/queryQuestionnaireAll';\r\n    commonAjaxPost(true, url, da, queryQuestionnaireAllSuccess);\r\n\r\n});\r\n\r\n\r\nfunction GetRequest() {\r\n    //url例子：www.bicycle.com?id=\"123456\"&Name=\"bicycle\"；\r\n    var url = decodeURI(location.search); //?id=\"123456\"&Name=\"bicycle\";\r\n    var object = {};\r\n    if (url.indexOf(\"?\") != -1)//url中存在问号，也就说有参数。\r\n    {\r\n        var str = url.substr(1);  //得到?后面的字符串\r\n        var strs = str.split(\"&\");  //将得到的参数分隔成数组[id=\"123456\",Name=\"bicycle\"];\r\n        for (var i = 0; i < strs.length; i++) {\r\n            object[strs[i].split(\"=\")[0]] = strs[i].split(\"=\")[1]\r\n        }\r\n    }\r\n    return object;\r\n}\r\n\r\n//添加题\r\nfunction addQuestion(index) {\r\n    //index 选择添加问题的类型\r\n    if (index == \"-1\") {\r\n        return;\r\n    }\r\n    var movie_box = '<div class=\"movie_box\" style=\"border: 1px solid rgb(255, 255, 255);\"></div>';\r\n    var Grade = $(\".yd_box\").find(\".movie_box\").length + 1;\r\n    switch (index) {\r\n        case \"0\": //单选\r\n        case \"1\": //多选\r\n        case \"2\": //问答\r\n            var wjdc_list = '<ul class=\"wjdc_list\"></ul>'; //问答 单选 多选\r\n            var danxuan = \"\";\r\n            if (index == \"0\") {\r\n                danxuan = '【单选】';\r\n            } else if (index == \"1\") {\r\n                danxuan = '【多选】';\r\n            } else if (index == \"2\") {\r\n                danxuan = '【问答】';\r\n            }\r\n\r\n            wjdc_list = $(wjdc_list).append(' <li><div class=\"tm_btitlt\"><i class=\"nmb\">' + Grade + '</i>. <i class=\"btwenzi\">请编辑问题？</i><span class=\"tip_wz\"><a href=\\'javascript:void(0)\\'  class=\\'bida\\'>必答题</a></span></div></li>');\r\n            if (index == \"2\") {\r\n                wjdc_list = $(wjdc_list).append('<li>  <label> <textarea name=\"\" cols=\"\" rows=\"\" class=\"input_wenbk btwen_text btwen_text_dx\" readonly=\"readonly\"></textarea></label> </li>');\r\n            }\r\n\r\n            if (tipMsg == \"取消插入点\") {\r\n                $(\"#status_tip\").css(\"display\", \"none\");\r\n                // tipMsg = \"在此题后插入新题\";\r\n                //在div后添加新题的容器\r\n                movie_boxForInsert = $(movie_boxForInsert).append(wjdc_list);\r\n                movie_boxForInsert = $(movie_boxForInsert).append('<div class=\"dx_box\" data-t=\"' + index + '\"></div>');\r\n                newContain.after(movie_boxForInsert);\r\n                var xh_num = 0;\r\n                //重新编号\r\n                $(\".yd_box\").find(\".movie_box\").each(function () {\r\n                    $(\".yd_box\").children(\".movie_box\").eq(xh_num).find(\".nmb\").text(xh_num + 1);\r\n                    xh_num++;\r\n                    //alert(xh_num);\r\n                });\r\n                movie_boxForInsert = '<div class=\"movie_box\" style=\"border: 1px solid rgb(255, 255, 255);\"></div>';\r\n            } else {\r\n                movie_box = $(movie_box).append(wjdc_list);\r\n                movie_box = $(movie_box).append('<div class=\"dx_box\" data-t=\"' + index + '\"></div>');\r\n                $(\".yd_box\").append(movie_box);\r\n            }\r\n            break;\r\n        case \"3\":\r\n            var wjdc_list = ' <div class=\"wjdc_list\">' +\r\n                '<h4 class=\"title_wjht\">' +\r\n                '<i class=\"nmb\">' + Grade + '</i>. <span class=\"btwenzi\">请编辑问题!</span>' +\r\n                '<span class=\"tip_wz\"><a href=\\'javascript:void(0)\\'  class=\\'bida\\'>必答题</a></span>' +\r\n                '</h4>'\r\n                + ' <table width=\"100%\" border=\"0\" cellspacing=\"0\" cellpadding=\"0\" class=\"tswjdc_table\">' +\r\n                '<tbody></tbody>' +\r\n                '</table>' +\r\n                '</div>'; //问答 单选 多选\r\n            if (tipMsg == \"取消插入点\") {\r\n                $(\"#status_tip\").css(\"display\", \"none\");\r\n                // tipMsg = \"在此题后插入新题\";\r\n                //在div后添加新题的容器\r\n                movie_boxForInsert = $(movie_boxForInsert).append(wjdc_list);\r\n                movie_boxForInsert = $(movie_boxForInsert).append('<div class=\"dx_box\" data-t=\"' + index + '\"></div>');\r\n                newContain.after(movie_boxForInsert);\r\n                var xh_num = 0;\r\n                //重新编号\r\n                $(\".yd_box\").find(\".movie_box\").each(function () {\r\n                    $(\".yd_box\").children(\".movie_box\").eq(xh_num).find(\".nmb\").text(xh_num + 1);\r\n                    xh_num++;\r\n                    //alert(xh_num);\r\n                });\r\n                movie_boxForInsert = '<div class=\"movie_box\" style=\"border: 1px solid rgb(255, 255, 255);\"></div>';\r\n            } else {\r\n                movie_box = $(movie_box).append(wjdc_list);\r\n                movie_box = $(movie_box).append('<div class=\"dx_box\" data-t=\"' + index + '\"></div>');\r\n                $(\".yd_box\").append(movie_box);\r\n            }\r\n            break;\r\n        case \"4\":  //量表\r\n            var wjdc_list = ' <div class=\"wjdc_list\">' +\r\n                '<h4 class=\"title_wjht\">' +\r\n                '<i class=\"nmb\">' + Grade + '</i>.<span class=\"btwenzi\">请编辑问题!</span>' +\r\n                '<span class=\"tip_wz\"><a href=\\'javascript:void(0)\\'  class=\\'bida\\'>必答题</a></span>' +\r\n                '</h4>'\r\n                + ' <table width=\"100%\" border=\"0\" cellspacing=\"0\" cellpadding=\"0\" class=\"tswjdc_table\">' +\r\n                '<tbody></tbody>' +\r\n                '</table>' +\r\n                '</div>'; //问答 单选 多选\r\n            // var num = $(\".yd_box\").find(\".dx_box\")\r\n            // $(\".yd_box\").find(\".dx_box\").hide();\r\n            if (tipMsg == \"取消插入点\") {\r\n                $(\"#status_tip\").css(\"display\", \"none\");\r\n                // tipMsg = \"在此题后插入新题\";\r\n                //在div后添加新题的容器\r\n                movie_boxForInsert = $(movie_boxForInsert).append(wjdc_list);\r\n                movie_boxForInsert = $(movie_boxForInsert).append('<div class=\"dx_box\" data-t=\"' + index + '\"></div>');\r\n                newContain.after(movie_boxForInsert);\r\n                var xh_num = 0;\r\n                //重新编号\r\n                $(\".yd_box\").find(\".movie_box\").each(function () {\r\n                    $(\".yd_box\").children(\".movie_box\").eq(xh_num).find(\".nmb\").text(xh_num + 1);\r\n                    xh_num++;\r\n                    //alert(xh_num);\r\n                });\r\n                movie_boxForInsert = '<div class=\"movie_box\" style=\"border: 1px solid rgb(255, 255, 255);\"></div>';\r\n            } else {\r\n                movie_box = $(movie_box).append(wjdc_list);\r\n                movie_box = $(movie_box).append('<div class=\"dx_box\" data-t=\"' + index + '\"></div>');\r\n                $(\".yd_box\").append(movie_box);\r\n            }\r\n            break;\r\n    }\r\n    $(\".movie_box\").hover(function () {\r\n        var html_cz = \"<div class='kzqy_czbut'>\" +\r\n            \"<a href='javascript:void(0)' id='insert' style='text-decoration:underline;border: none;color:#f00'onclick='insertQuestion(this)'>\" + tipMsg + \"</a>\" +\r\n            \"<a href='javascript:void(0)' class='sy'>上移</a>\" +\r\n            \"<a href='javascript:void(0)'  class='xy'>下移</a>\" +\r\n            \"<a href='javascript:void(0)'  class='first'>最前</a>\" +\r\n            \"<a href='javascript:void(0)'  class='last'>最后</a>\" +\r\n            \"<a href='javascript:void(0)'  class='copy'>复制</a>\" +\r\n            \"<a href='javascript:void(0)'  class='bianji'>编辑</a>\" +\r\n            // \"<a href='javascript:void(0)'  class='bida'>必答题</a>\" +\r\n            \"<a href='javascript:void(0)' class='del'>删除</a>\" +\r\n            \"</div>\";\r\n        $(this).css({\r\n            \"border\": \"1px solid #fdb553\"\r\n        });\r\n        $(this).children(\".wjdc_list\").after(html_cz);\r\n    }, function () {\r\n        $(this).css({\r\n            \"border\": \"1px solid #fff\"\r\n        });\r\n        $(this).children(\".kzqy_czbut\").remove();\r\n    });\r\n    // var num=$(\".yd_box\").find(\".dx_box\");\r\n    $(\".yd_box\").find(\".dx_box\").hide();\r\n    // console.log(num.length)\r\n    if (tipMsg == \"取消插入点\") {\r\n        tipMsg = \"在此题后插入新题\";\r\n        newContain.next().mouseenter();\r\n        var finalMovieBox = newContain.next();\r\n        var finalBianJi = finalMovieBox.find(\".bianji\")[0];\r\n        $(finalBianJi).click();\r\n        newContain.next().mouseleave();\r\n    } else {\r\n        var boxNum = $(\".yd_box\").children(\".movie_box\").length;\r\n        $($(\".yd_box\").children(\".movie_box\")[boxNum - 1]).mouseenter();\r\n        var finalMovieBox = $(\".yd_box\").children(\".movie_box\")[boxNum - 1];\r\n        var finalBianJi = $(finalMovieBox).find(\".bianji\")[0];\r\n        $(finalBianJi).click();\r\n        $($(\".yd_box\").children(\".movie_box\")[boxNum - 1]).mouseleave();\r\n    }\r\n}\r\n\r\n//鼠标移上去显示按钮\r\n$(\".movie_box\").hover(function () {\r\n    var html_cz = \"<div class='kzqy_czbut'>\" +\r\n        \"<a href='javascript:void(0)' class='sy'><span class='design-icon design-up'></span>上移</a>\" +\r\n        \"<a href='javascript:void(0)'  class='xy'><span class='design-icon design-down'></span>下移</a>\" +\r\n        \"<a href='javascript:void(0)'  class='bianji'><span class='design-icon design-edit'></span>编辑</a>\" +\r\n        // \"<a href='javascript:void(0)'  class='bida'><span class='design-icon design-bida'></span>必答题</a>\" +\r\n        \"<a href='javascript:void(0)' class='del' ><span class='design-icon'></span>删除</a>\" +\r\n        \"</div>\";\r\n    $(this).css({\r\n        \"border\": \"1px solid #0099ff\"\r\n    });\r\n    $(this).children(\".wjdc_list\").after(html_cz);\r\n}, function () {\r\n    $(this).css({\r\n        \"border\": \"1px solid #fff\"\r\n    });\r\n    $(this).children(\".kzqy_czbut\").remove();\r\n});\r\n\r\n//下移\r\n$(\".xy\").live(\"click\", function () {\r\n    //文字的长度\r\n    var leng = $(\".yd_box\").children(\".movie_box\").length;\r\n    var dqgs = $(this).parent(\".kzqy_czbut\").parent(\".movie_box\").index();\r\n    if (dqgs < leng - 1) {\r\n        var czxx = $(this).parent(\".kzqy_czbut\").parent(\".movie_box\");\r\n        var xyghtml = czxx.next().html();\r\n        var syghtml = czxx.html();\r\n        czxx.next().html(syghtml);\r\n        czxx.html(xyghtml);\r\n        //序号\r\n        czxx.children(\".wjdc_list\").find(\".nmb\").text(dqgs + 1);\r\n        czxx.next().children(\".wjdc_list\").find(\".nmb\").text(dqgs + 2);\r\n    } else {\r\n        alert(\"最后一题不能再下移\");\r\n    }\r\n});\r\n\r\n//上移\r\n$(\".sy\").live(\"click\", function () {\r\n    //文字的长度\r\n    var leng = $(\".yd_box\").children(\".movie_box\").length;\r\n    var dqgs = $(this).parent(\".kzqy_czbut\").parent(\".movie_box\").index();\r\n    if (dqgs > 0) {\r\n        var czxx = $(this).parent(\".kzqy_czbut\").parent(\".movie_box\");\r\n        var xyghtml = czxx.prev().html();\r\n        var syghtml = czxx.html();\r\n        czxx.prev().html(syghtml);\r\n        czxx.html(xyghtml);\r\n        //序号\r\n        czxx.children(\".wjdc_list\").find(\".nmb\").text(dqgs + 1);\r\n        czxx.prev().children(\".wjdc_list\").find(\".nmb\").text(dqgs);\r\n\r\n    } else {\r\n        alert(\"第一题不能再上移\");\r\n    }\r\n});\r\n\r\n//最前\r\n$(\".first\").live(\"click\", function () {\r\n    //文字的长度\r\n\r\n    var dqgs = $(this).parent(\".kzqy_czbut\").parent(\".movie_box\").index();\r\n    var text = $(this).parent(\".kzqy_czbut\").parent(\".movie_box\");\r\n    console.log(text)\r\n    console.log(text.html())\r\n    console.log($(\".yd_box\").children()[0])\r\n    if (dqgs > 0) {\r\n        console.log(dqgs)\r\n        var czxx = $(this).parent(\".kzqy_czbut\").parent(\".movie_box\");\r\n        var xyghtml = $(\".yd_box:first-child\").children(\".movie_box\").eq(0).html();   //第一题的内容\r\n        console.log($(\".yd_box\").children().html())\r\n        $(\".yd_box\").children(\".movie_box\").eq(0).before('<div class=\"movie_box\" style=\"border: 1px solid rgb(255, 255, 255);\">' + text.html() + '</div>')\r\n        // var syghtml = czxx.html();          //当前题的内容\r\n        // $(\".yd_box\").children(\".movie_box\").eq(0).html(syghtml);          //交换\r\n        // czxx.html(xyghtml);\r\n        //序号+\r\n        $(this).parent(\".kzqy_czbut\").parent(\".movie_box\").remove()\r\n        $(\".yd_box\").children(\".movie_box\").eq(0).children(\".kzqy_czbut\").remove()\r\n        $(\".yd_box\").children(\".movie_box\").eq(0).hover(function () {\r\n            var html_cz = \"<div class='kzqy_czbut'>\" +\r\n                \"<a href='javascript:void(0)' id='insert' style='text-decoration:underline;border: none;color:#f00'onclick='insertQuestion(this)'>\" + tipMsg + \"</a>\" +\r\n                \"<a href='javascript:void(0)' class='sy'>上移</a>\" +\r\n                \"<a href='javascript:void(0)'  class='xy'>下移</a>\" +\r\n                \"<a href='javascript:void(0)'  class='first'>最前</a>\" +\r\n                \"<a href='javascript:void(0)'  class='last'>最后</a>\" +\r\n                \"<a href='javascript:void(0)'  class='copy'>复制</a>\" +\r\n                \"<a href='javascript:void(0)'  class='bianji'>编辑</a>\" +\r\n                // \"<a href='javascript:void(0)'  class='bida'>必答题</a>\" +\r\n                \"<a href='javascript:void(0)' class='del'>删除</a>\" +\r\n                \"</div>\";\r\n            $(this).css({\r\n                \"border\": \"1px solid #fdb553\"\r\n            });\r\n            $(this).children(\".wjdc_list\").after(html_cz);\r\n        }, function () {\r\n            $(this).css({\r\n                \"border\": \"1px solid #fff\"\r\n            });\r\n            $(this).children(\".kzqy_czbut\").remove();\r\n        });\r\n        var xh_num = 0;\r\n        //重新编号\r\n        $(\".yd_box\").find(\".movie_box\").each(function () {\r\n            $(\".yd_box\").children(\".movie_box\").eq(xh_num).find(\".nmb\").text(xh_num + 1);\r\n            xh_num++;\r\n        });\r\n    } else {\r\n        alert(\"第一题不能再上移\");\r\n    }\r\n});\r\n\r\n//最后\r\n$(\".last\").live(\"click\", function () {\r\n\r\n    var leng = $(\".yd_box\").children(\".movie_box\").length;\r\n    var dqgs = $(this).parent(\".kzqy_czbut\").parent(\".movie_box\").index();\r\n    var text = $(this).parent(\".kzqy_czbut\").parent(\".movie_box\");\r\n    if (dqgs < leng - 1) {\r\n        var czxx = $(this).parent(\".kzqy_czbut\").parent(\".movie_box\");\r\n        var xyghtml = $(\".yd_box\").children(\".movie_box\").eq(leng - 1).html();   //最后一题的内容\r\n        $(\".yd_box\").children(\".movie_box\").eq(leng - 1).after('<div class=\"movie_box\" style=\"border: 1px solid rgb(255, 255, 255);\">' + text.html() + '</div>')\r\n        // var syghtml = czxx.html();          //当前题的内容\r\n        // $(\".yd_box\").children(\".movie_box\").eq(leng - 1).html(syghtml);          //交换\r\n        // czxx.html(xyghtml);\r\n        $(this).parent(\".kzqy_czbut\").parent(\".movie_box\").remove()\r\n        $(\".yd_box\").children(\".movie_box\").eq(leng - 1).children(\".kzqy_czbut\").remove()\r\n        $(\".yd_box\").children(\".movie_box\").eq(leng - 1).hover(function () {\r\n            var html_cz = \"<div class='kzqy_czbut'>\" +\r\n                \"<a href='javascript:void(0)' id='insert' style='text-decoration:underline;border: none;color:#f00'onclick='insertQuestion(this)'>\" + tipMsg + \"</a>\" +\r\n                \"<a href='javascript:void(0)' class='sy'>上移</a>\" +\r\n                \"<a href='javascript:void(0)'  class='xy'>下移</a>\" +\r\n                \"<a href='javascript:void(0)'  class='first'>最前</a>\" +\r\n                \"<a href='javascript:void(0)'  class='last'>最后</a>\" +\r\n                \"<a href='javascript:void(0)'  class='copy'>复制</a>\" +\r\n                \"<a href='javascript:void(0)'  class='bianji'>编辑</a>\" +\r\n                // \"<a href='javascript:void(0)'  class='bida'>必答题</a>\" +\r\n                \"<a href='javascript:void(0)' class='del'>删除</a>\" +\r\n                \"</div>\";\r\n            $(this).css({\r\n                \"border\": \"1px solid #fdb553\"\r\n            });\r\n            $(this).children(\".wjdc_list\").after(html_cz);\r\n        }, function () {\r\n            $(this).css({\r\n                \"border\": \"1px solid #fff\"\r\n            });\r\n            $(this).children(\".kzqy_czbut\").remove();\r\n        });\r\n        //序号\r\n        var xh_num = 0;\r\n        //重新编号\r\n        $(\".yd_box\").find(\".movie_box\").each(function () {\r\n            $(\".yd_box\").children(\".movie_box\").eq(xh_num).find(\".nmb\").text(xh_num + 1);\r\n            xh_num++;\r\n        });\r\n    } else {\r\n        alert(\"最后一题不能再下移\");\r\n    }\r\n});\r\n\r\n//复制\r\n$(\".copy\").live(\"click\", function () {\r\n    var movie_box = '<div class=\"movie_box\" style=\"border: 1px solid rgb(255, 255, 255);\"></div>';\r\n    var czxx = $(this).parent(\".kzqy_czbut\").parent(\".movie_box\");\r\n    var syghtml = czxx.html();          //当前题的内容\r\n    movie_box = $(movie_box).append(syghtml);\r\n    $(czxx).after(movie_box);\r\n    $(\".movie_box\").hover(function () {\r\n        var html_cz = \"<div class='kzqy_czbut'>\" +\r\n            \"<a href='javascript:void(0)' id='insert' style='text-decoration:underline;border: none;color:#f00'onclick='insertQuestion(this)'>\" + tipMsg + \"</a>\" +\r\n            \"<a href='javascript:void(0)' class='sy'>上移</a>\" +\r\n            \"<a href='javascript:void(0)'  class='xy'>下移</a>\" +\r\n            \"<a href='javascript:void(0)'  class='first'>最前</a>\" +\r\n            \"<a href='javascript:void(0)'  class='last'>最后</a>\" +\r\n            \"<a href='javascript:void(0)'  class='copy'>复制</a>\" +\r\n            \"<a href='javascript:void(0)'  class='bianji'>编辑</a>\" +\r\n            // \"<a href='javascript:void(0)'  class='bida'>必答题</a>\" +\r\n            \"<a href='javascript:void(0)' class='del'>删除</a>\" +\r\n            \"</div>\";\r\n        $(this).css({\r\n            \"border\": \"1px solid #fdb553\"\r\n        });\r\n        $(this).children(\".wjdc_list\").after(html_cz);\r\n    }, function () {\r\n        $(this).css({\r\n            \"border\": \"1px solid #fff\"\r\n        });\r\n        $(this).children(\".kzqy_czbut\").remove();\r\n    });\r\n    //重新编号\r\n    var xh_num = 0;\r\n    $(\".yd_box\").find(\".movie_box\").each(function () {\r\n        $(\".yd_box\").children(\".movie_box\").eq(xh_num).find(\".nmb\").text(xh_num + 1);\r\n        xh_num++;\r\n    });\r\n});\r\n\r\n//删除\r\n$(\".del\").live(\"click\", function () {\r\n    var czxx = $(this).parent(\".kzqy_czbut\").parent(\".movie_box\");\r\n    var zgtitle_gs = czxx.parent(\".yd_box\").find(\".movie_box\").length;\r\n    var xh_num = 0;\r\n    //重新编号\r\n    czxx.remove();\r\n    $(\".yd_box\").find(\".movie_box\").each(function () {\r\n        $(\".yd_box\").children(\".movie_box\").eq(xh_num).find(\".nmb\").text(xh_num + 1);\r\n        xh_num++;\r\n    });\r\n});\r\n\r\n//编辑\r\n$(\".bianji\").live(\"click\", function () {\r\n    var indexShow = ''\r\n    console.log($(\".dx_box\"))\r\n    $(\".dx_box\").each(function () {\r\n        //判断每一个div，其css中display是否为block\r\n        if ($(this).css(\"display\") == \"block\") {\r\n            layer.alert('请将未保存的内容进行保存后再进行编辑操作', {\r\n                skin: 'layui-layer-lan'\r\n                , closeBtn: 0\r\n            });\r\n            indexShow = 'fndsk'\r\n        }\r\n    })\r\n    console.log($(\".dx_box\").html())\r\n    // console.log($(this).parent(\".wjdc_list\"))\r\n    // console.log($(this).parent(\".wjdc_list\"))\r\n    //编辑的时候禁止其他操作\r\n    // $(this).siblings().hide();\r\n    //$(this).parent(\".kzqy_czbut\").parent(\".movie_box\").unbind(\"hover\");\r\n    if (indexShow == '') {\r\n        var dxtm = $(\".dxuan\").html();                  //单选\r\n        var duoxtm = $(\".duoxuan\").html();             //多选\r\n        var tktm = $(\".tktm\").html();                 //填空\r\n        var jztm = $(\".jztm\").html();                //矩阵\r\n        var lbtm = $(\".lb\").html();                //矩阵\r\n        //接受编辑内容的容器    kzqy_czbut 编辑的div\r\n        var dx_rq = $(this).parent(\".kzqy_czbut\").parent(\".movie_box\").find(\".dx_box\");\r\n        console.log(dx_rq)\r\n        console.log(dx_rq.show().html)\r\n        var title = dx_rq.attr(\"data-t\");\r\n        //alert(title);\r\n        //题目选项的个数\r\n        var timlrxm = $(this).parent(\".kzqy_czbut\").parent(\".movie_box\").children(\".wjdc_list\").children(\"li\").length;\r\n        //单选题目\r\n        if (title == 0) {\r\n            dx_rq.show().html(dxtm);\r\n            //模具题目选项的个数\r\n            var bjxm_length = dx_rq.find(\".title_itram\").children(\".kzjxx_iteam\").length;\r\n            var dxtxx_html = dx_rq.find(\".title_itram\").children(\".kzjxx_iteam\").html();\r\n            //添加选项题目\r\n            for (var i_tmxx = bjxm_length; i_tmxx < timlrxm - 1; i_tmxx++) {\r\n                dx_rq.find(\".title_itram\").append(\"<div class='kzjxx_iteam'>\" + dxtxx_html + \"</div>\");\r\n            }\r\n            //赋值文本框\r\n            //题目标题\r\n            var texte_bt_val = $(this).parent(\".kzqy_czbut\").parent(\".movie_box\").find(\".wjdc_list\").children(\"li\").eq(0).find(\".tm_btitlt\").children(\".btwenzi\").text();\r\n            dx_rq.find(\".btwen_text\").val(texte_bt_val);\r\n            //遍历题目项目的文字\r\n            var bjjs = 0;\r\n            $(this).parent(\".kzqy_czbut\").parent(\".movie_box\").find(\".wjdc_list\").children(\"li\").each(function () {\r\n                //可选框框\r\n                var ktksfcz = $(this).find(\"input\").hasClass(\"wenb_input\");\r\n                if (ktksfcz) {\r\n                    var jsxz_kk = $(this).index();\r\n                    dx_rq.find(\".title_itram\").children(\".kzjxx_iteam\").eq(jsxz_kk - 1).find(\"label\").remove();\r\n                }\r\n                //题目选项\r\n                var texte_val = $(this).find(\"span\").text();\r\n                dx_rq.find(\".title_itram\").children(\".kzjxx_iteam\").eq(bjjs - 1).find(\".input_wenbk\").val(texte_val);\r\n                bjjs++\r\n\r\n            });\r\n        }\r\n        //多选题目\r\n        if (title == 1) {\r\n            dx_rq.show().html(duoxtm);\r\n            //模具题目选项的个数\r\n            var bjxm_length = dx_rq.find(\".title_itram\").children(\".kzjxx_iteam\").length;\r\n            var dxtxx_html = dx_rq.find(\".title_itram\").children(\".kzjxx_iteam\").html();\r\n            //添加选项题目\r\n            for (var i_tmxx = bjxm_length; i_tmxx < timlrxm - 1; i_tmxx++) {\r\n                dx_rq.find(\".title_itram\").append(\"<div class='kzjxx_iteam'>\" + dxtxx_html + \"</div>\");\r\n                //alert(i_tmxx);\r\n            }\r\n            //赋值文本框\r\n            //题目标题\r\n            var texte_bt_val = $(this).parent(\".kzqy_czbut\").parent(\".movie_box\").find(\".wjdc_list\").children(\"li\").eq(0).find(\".tm_btitlt\").children(\".btwenzi\").text();\r\n            dx_rq.find(\".btwen_text\").val(texte_bt_val);\r\n            //遍历题目项目的文字\r\n            var bjjs = 0;\r\n            $(this).parent(\".kzqy_czbut\").parent(\".movie_box\").find(\".wjdc_list\").children(\"li\").each(function () {\r\n                //可选框框\r\n                var ktksfcz = $(this).find(\"input\").hasClass(\"wenb_input\");\r\n                if (ktksfcz) {\r\n                    var jsxz_kk = $(this).index();\r\n                    dx_rq.find(\".title_itram\").children(\".kzjxx_iteam\").eq(jsxz_kk - 1).find(\"label\").remove();\r\n                }\r\n                //题目选项\r\n                var texte_val = $(this).find(\"span\").text();\r\n                dx_rq.find(\".title_itram\").children(\".kzjxx_iteam\").eq(bjjs - 1).find(\".input_wenbk\").val(texte_val);\r\n                bjjs++\r\n            });\r\n        }\r\n        //填空题目\r\n        if (title == 2) {\r\n            dx_rq.show().html(tktm);\r\n            //赋值文本框\r\n            //题目标题\r\n            var texte_bt_val = $(this).parent(\".kzqy_czbut\").parent(\".movie_box\").find(\".wjdc_list\").children(\"li\").eq(0).find(\".tm_btitlt\").children(\".btwenzi\").text();\r\n            dx_rq.find(\".btwen_text\").val(texte_bt_val);\r\n        }\r\n        //矩阵题目\r\n        if (title == 3) {\r\n            dx_rq.show().html(jztm);\r\n            //模具题目选项的个数\r\n            var bjxm_length = dx_rq.find(\".title_itram\").children(\".kzjxx_iteam\").length;\r\n            var dxtxx_html = dx_rq.find(\".title_itram\").children(\".kzjxx_iteam\").html();\r\n            var jcxxxx = $(this).parent(\".kzqy_czbut\").parent(\".movie_box\") //编辑题目区\r\n            // var jcxxxx = $(\".yd_box\").children(\".movie_box\") //编辑题目区\r\n\r\n            //题目标题\r\n            var texte_bt_val = $(this).parent(\".kzqy_czbut\").parent(\".movie_box\").children(\".wjdc_list\").children(\".title_wjht\").children(\".btwenzi\").text();\r\n            if (texte_bt_val != '请编辑问题!') {\r\n                dx_rq.find(\".btwen_text\").val(texte_bt_val);\r\n            } else {\r\n                dx_rq.find(\".btwen_text\").attr('placeholder', texte_bt_val)\r\n            }\r\n            var bjjs_bj = 0;\r\n            //存选项的数组\r\n            var questionOption = [];  //单个题的所有选项\r\n            // console.log(jcxxxx.children(\".wjdc_list\").children(\".tswjdc_table\").children('tbody').find('tr').length);\r\n            var lineTitleNum = jcxxxx.children(\".wjdc_list\").children(\".tswjdc_table\").children('tbody').find('tr').length;\r\n            var lineTitle = '';\r\n            for (var m = 1; m < lineTitleNum; m++) {\r\n                if (m == lineTitleNum - 1) {\r\n                    lineTitle += jcxxxx.children(\".wjdc_list\").children(\".tswjdc_table\").children('tbody').find('tr').eq(m).find('td').eq(0).html(); //题目选项文字\r\n                } else {\r\n                    lineTitle += jcxxxx.children(\".wjdc_list\").children(\".tswjdc_table\").children('tbody').find('tr').eq(m).find('td').eq(0).html() + ','; //题目选项文字\r\n                }\r\n                //行标题\r\n                dx_rq.find(\".leftbtwen_text\").val(lineTitle);\r\n            }\r\n            lineTitle = '';\r\n            var chooseOptions = jcxxxx.children(\".wjdc_list\").children(\".tswjdc_table\").children('tbody').find('tr').eq(0).find('td').length;\r\n\r\n            for (var i = 1; i < chooseOptions; i++) {\r\n                var chooseOption = jcxxxx.children(\".wjdc_list\").children(\".tswjdc_table\").children('tbody').find('tr').eq(0).find('td').eq(i).html(); //题目选项文字\r\n                if (chooseOption != '') {\r\n                    if ($(\".dx_box\").find(\".input_wenbk\")[i]) {\r\n                        if (chooseOption == '') {\r\n                            $($(\".dx_box\").find(\".input_wenbk\")[i]).val('选项'); //获取填写信息\r\n                        } else {\r\n                            $($(\".dx_box\").find(\".input_wenbk\")[i]).val(chooseOption); //获取填写信息\r\n                        }\r\n                    } else {\r\n                        $(\"#zj\").append('<div class=\"kzjxx_iteam\">\\n' +\r\n                            '                                                <input name=\"\" type=\"text\" class=\"input_wenbk jzwent_input\" value=\"选项\"\\n' +\r\n                            '                                                       onblur=\"if(!this.value)this.value=\\'选项\\'\"\\n' +\r\n                            '                                                       onclick=\"if(this.value&amp;&amp;this.value==\\'选项\\' )  this.value=\\'\\'\">\\n' +\r\n                            '                                                <a href=\"javascript:void(0);\" class=\"del_xm\">删除</a>\\n' +\r\n                            '                                            </div>')\r\n                        $($(\".dx_box\").find(\".input_wenbk\")[i]).val(chooseOption); //获取填写信息\r\n                    }\r\n                }\r\n            }\r\n            if (texte_bt_val == '请编辑问题!'||texte_bt_val == '') {\r\n\r\n            }else {\r\n                console.log($(\".dx_box\").find(\".kzjxx_iteam\"))\r\n                var totalLength = $(\".dx_box\").find(\".kzjxx_iteam\").length\r\n                for (var inde = 0; inde < chooseOptions; inde++) {\r\n                    console.log($($(\".dx_box\").find(\".input_wenbk\")[inde]))\r\n                    console.log($($(\".dx_box\").find(\".input_wenbk\")[inde]).val() )\r\n                    console.log($(\".dx_box\").find(\".kzjxx_iteam\").eq(inde).find(\".input_wenbk\"))\r\n                    console.log($($(\".dx_box\").find(\".kzjxx_iteam\").eq(inde).find(\".input_wenbk\")))\r\n                    // if ($($(\".dx_box\").find(\".input_wenbk\")[inde]).val() == '') {\r\n                    if ($($(\".dx_box\").find(\".kzjxx_iteam\").eq(inde).find(\".input_wenbk\")).val() == '') {\r\n                        // $(\".dx_box\").find(\".input_wenbk\")[inde].parentNode.style.display = \"none\"\r\n                        // $(\".dx_box\").find(\".input_wenbk\")[inde].remove()\r\n                        console.log( $(\".dx_box\").find(\".kzjxx_iteam\")[inde])\r\n                        console.log( $(\".dx_box\").find(\".kzjxx_iteam\").length)\r\n                        for(var removeList = inde;removeList<totalLength;removeList++){\r\n\r\n                            $($(\".dx_box\").find(\".kzjxx_iteam\")[inde]).remove()\r\n                        }\r\n                        return;\r\n                        // $(\".dx_box\").find(\".del_xm\")[inde].remove()\r\n                        // $(\".dx_box\").find(\".input_wenbk\")[inde].parentNode.removeChild($(\".dx_box\").find(\".input_wenbk\")[inde])\r\n                        // $(\".dx_box\").find(\".input_wenbk\")[inde].pa\r\n                        //\r\n                        // rentNode.removeChild($(\".dx_box\").find(\"a\")[inde])\r\n                        // $(\".dx_box\").find(\".input_wenbk\")[inde].clean()\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        //量表题目\r\n        if (title == 4) {\r\n            var endTextIndex = $(this).parent(\".kzqy_czbut\").parent(\".movie_box\").children(\".wjdc_list\").children(\".tswjdc_table\").find('td').length\r\n            var findText = $(this).parent(\".kzqy_czbut\").parent(\".movie_box\").children(\".wjdc_list\").children(\".tswjdc_table\").find('td')\r\n            if (findText.eq(0).html() != null) {\r\n                var lbStr = ''\r\n                for (var m = 1; m < endTextIndex - 1; m++) {\r\n                    if (m == 1) {\r\n                        lbStr += '<div class=\"kzjxx_iteam\">\\n' +\r\n                            '                                                <input name=\"\" type=\"text\" class=\"input_wenbk jzwent_input lb_word\" value=\"' + findText.eq(0).html() + '\"\\n' +\r\n                            '                                                       onblur=\"if(!this.value)this.value=\\'\\'\"\\n' +\r\n                            '                                                       onclick=\"if(this.value&amp;&amp;this.value==\\'\\' )  this.value=\\'\\'\">\\n' +\r\n                            '                                                <input name=\"\" type=\"text\" class=\"input_wenbk jzwent_input lb_grade\" value=\"' + findText.eq(m).children(\"input\").val() + '\"\\n' +\r\n                            '                                                       onblur=\"if(!this.value)this.value=\\'选项\\'\"\\n' +\r\n                            '                                                       onclick=\"if(this.value&amp;&amp;this.value==\\'选项\\' )  this.value=\\'\\'\">\\n' +\r\n                            '                                                <!--<label class=\"gradeChoose\">-->\\n' +\r\n                            '                                                <!--<input name=\"\" type=\"checkbox\" value=\"\" class=\"fxk\">-->\\n' +\r\n                            '                                                <!--<span>不计分</span>-->\\n' +\r\n                            '                                                <!--</label>-->\\n' +\r\n                            '                                                <a href=\"javascript:void(0);\" class=\"del_xm\">删除</a>\\n' +\r\n                            '                                            </div>'\r\n                    } else if (m == endTextIndex - 2) {\r\n                        lbStr += '<div class=\"kzjxx_iteam\">\\n' +\r\n                            '                                                <input name=\"\" type=\"text\" class=\"input_wenbk jzwent_input lb_word\" value=\"' + findText.eq(m + 1).html() + '\"\\n' +\r\n                            '                                                       onblur=\"if(!this.value)this.value=\\'\\'\"\\n' +\r\n                            '                                                       onclick=\"if(this.value&amp;&amp;this.value==\\'\\' )  this.value=\\'\\'\">\\n' +\r\n                            '                                                <input name=\"\" type=\"text\" class=\"input_wenbk jzwent_input lb_grade\" value=\"' + findText.eq(m).children(\"input\").val() + '\"\\n' +\r\n                            '                                                       onblur=\"if(!this.value)this.value=\\'选项\\'\"\\n' +\r\n                            '                                                       onclick=\"if(this.value&amp;&amp;this.value==\\'选项\\' )  this.value=\\'\\'\">\\n' +\r\n                            '                                                <!--<label class=\"gradeChoose\">-->\\n' +\r\n                            '                                                <!--<input name=\"\" type=\"checkbox\" value=\"\" class=\"fxk\">-->\\n' +\r\n                            '                                                <!--<span>不计分</span>-->\\n' +\r\n                            '                                                <!--</label>-->\\n' +\r\n                            '                                                <a href=\"javascript:void(0);\" class=\"del_xm\">删除</a>\\n' +\r\n                            '                                            </div>'\r\n                    } else {\r\n                        lbStr += '<div class=\"kzjxx_iteam\">\\n' +\r\n                            '                                                <input name=\"\" type=\"text\" class=\"input_wenbk jzwent_input lb_word\" value=\"\"\\n' +\r\n                            '                                                       onblur=\"if(!this.value)this.value=\\'\\'\"\\n' +\r\n                            '                                                       onclick=\"if(this.value&amp;&amp;this.value==\\'\\' )  this.value=\\'\\'\">\\n' +\r\n                            '                                                <input name=\"\" type=\"text\" class=\"input_wenbk jzwent_input lb_grade\" value=\"' + findText.eq(m).children(\"input\").val() + '\"\\n' +\r\n                            '                                                       onblur=\"if(!this.value)this.value=\\'选项\\'\"\\n' +\r\n                            '                                                       onclick=\"if(this.value&amp;&amp;this.value==\\'选项\\' )  this.value=\\'\\'\">\\n' +\r\n                            '                                                <!--<label class=\"gradeChoose\">-->\\n' +\r\n                            '                                                <!--<input name=\"\" type=\"checkbox\" value=\"\" class=\"fxk\">-->\\n' +\r\n                            '                                                <!--<span>不计分</span>-->\\n' +\r\n                            '                                                <!--</label>-->\\n' +\r\n                            '                                                <a href=\"javascript:void(0);\" class=\"del_xm\">删除</a>\\n' +\r\n                            '                                            </div>'\r\n                    }\r\n                }\r\n\r\n                $(\"#lb\").html(lbStr)\r\n                dx_rq.show().html($(\".lb\").html());\r\n\r\n            } else {\r\n                var lbStr1 = ''\r\n                for (var m = 1; m < 6; m++) {\r\n                    if (m == 1) {\r\n                        lbStr1 += '<div class=\"kzjxx_iteam\">\\n' +\r\n                            '                                                <input name=\"\" type=\"text\" class=\"input_wenbk jzwent_input lb_word\" value=\"很满意\"\\n' +\r\n                            '                                                       onblur=\"if(!this.value)this.value=\\'\\'\"\\n' +\r\n                            '                                                       onclick=\"if(this.value&amp;&amp;this.value==\\'\\' )  this.value=\\'\\'\">\\n' +\r\n                            '                                                <input name=\"\" type=\"text\" class=\"input_wenbk jzwent_input lb_grade\" value=\"5\"\\n' +\r\n                            '                                                       onblur=\"if(!this.value)this.value=\\'选项\\'\"\\n' +\r\n                            '                                                       onclick=\"if(this.value&amp;&amp;this.value==\\'选项\\' )  this.value=\\'\\'\">\\n' +\r\n                            '                                                <!--<label class=\"gradeChoose\">-->\\n' +\r\n                            '                                                <!--<input name=\"\" type=\"checkbox\" value=\"\" class=\"fxk\">-->\\n' +\r\n                            '                                                <!--<span>不计分</span>-->\\n' +\r\n                            '                                                <!--</label>-->\\n' +\r\n                            '                                                <a href=\"javascript:void(0);\" class=\"del_xm\">删除</a>\\n' +\r\n                            '                                            </div>'\r\n                    } else if (m == 5) {\r\n                        lbStr1 += '<div class=\"kzjxx_iteam\">\\n' +\r\n                            '                                                <input name=\"\" type=\"text\" class=\"input_wenbk jzwent_input lb_word\" value=\"很不满意\"\\n' +\r\n                            '                                                       onblur=\"if(!this.value)this.value=\\'\\'\"\\n' +\r\n                            '                                                       onclick=\"if(this.value&amp;&amp;this.value==\\'\\' )  this.value=\\'\\'\">\\n' +\r\n                            '                                                <input name=\"\" type=\"text\" class=\"input_wenbk jzwent_input lb_grade\" value=\"1\"\\n' +\r\n                            '                                                       onblur=\"if(!this.value)this.value=\\'选项\\'\"\\n' +\r\n                            '                                                       onclick=\"if(this.value&amp;&amp;this.value==\\'选项\\' )  this.value=\\'\\'\">\\n' +\r\n                            '                                                <!--<label class=\"gradeChoose\">-->\\n' +\r\n                            '                                                <!--<input name=\"\" type=\"checkbox\" value=\"\" class=\"fxk\">-->\\n' +\r\n                            '                                                <!--<span>不计分</span>-->\\n' +\r\n                            '                                                <!--</label>-->\\n' +\r\n                            '                                                <a href=\"javascript:void(0);\" class=\"del_xm\">删除</a>\\n' +\r\n                            '                                            </div>'\r\n                    } else {\r\n                        lbStr1 += '<div class=\"kzjxx_iteam\">\\n' +\r\n                            '                                                <input name=\"\" type=\"text\" class=\"input_wenbk jzwent_input lb_word\" value=\"\"\\n' +\r\n                            '                                                       onblur=\"if(!this.value)this.value=\\'\\'\"\\n' +\r\n                            '                                                       onclick=\"if(this.value&amp;&amp;this.value==\\'\\' )  this.value=\\'\\'\">\\n' +\r\n                            '                                                <input name=\"\" type=\"text\" class=\"input_wenbk jzwent_input lb_grade\" value=\"' + (6 - m) + '\"\\n' +\r\n                            '                                                       onblur=\"if(!this.value)this.value=\\'选项\\'\"\\n' +\r\n                            '                                                       onclick=\"if(this.value&amp;&amp;this.value==\\'选项\\' )  this.value=\\'\\'\">\\n' +\r\n                            '                                                <!--<label class=\"gradeChoose\">-->\\n' +\r\n                            '                                                <!--<input name=\"\" type=\"checkbox\" value=\"\" class=\"fxk\">-->\\n' +\r\n                            '                                                <!--<span>不计分</span>-->\\n' +\r\n                            '                                                <!--</label>-->\\n' +\r\n                            '                                                <a href=\"javascript:void(0);\" class=\"del_xm\">删除</a>\\n' +\r\n                            '                                            </div>'\r\n                    }\r\n                }\r\n\r\n                $(\"#lb\").html(lbStr1)\r\n                dx_rq.show().html($(\".lb\").html());\r\n            }\r\n\r\n            var texte_bt_val = $(this).parent(\".kzqy_czbut\").parent(\".movie_box\").children(\".wjdc_list\").children(\".title_wjht\").children(\".btwenzi\").text();\r\n            // console.log(texte_bt_val)\r\n            if (texte_bt_val != '请编辑问题!') {\r\n                dx_rq.find(\".btwen_text\").val(texte_bt_val);\r\n            } else {\r\n                dx_rq.find(\".btwen_text\").attr('placeholder', texte_bt_val)\r\n            }\r\n        }\r\n    }\r\n\r\n});\r\n\r\n//增加选项\r\n$(\".zjxx\").live(\"click\", function () {\r\n    var zjxx_html = $(this).prev(\".title_itram\").children(\".kzjxx_iteam\").html();\r\n    $(this).prev(\".title_itram\").append(\"<div class='kzjxx_iteam'>\" + zjxx_html + \"</div>\");\r\n});\r\n\r\n//设置必答\r\n$(\".bida\").live(\"click\", function (e) {\r\n    if (e.target.innerText == \"必答题\") {\r\n        e.target.innerText = \"取消必答题\"\r\n    } else {\r\n        e.target.innerText = \"必答题\"\r\n    }\r\n});\r\n//删除一行\r\n$(\".del_xm\").live(\"click\", function () {\r\n    //获取编辑题目的个数\r\n    var zuxxs_num = $(this).parent(\".kzjxx_iteam\").parent(\".title_itram\").children(\".kzjxx_iteam\").length;\r\n    if (zuxxs_num > 1) {\r\n        $(this).parent(\".kzjxx_iteam\").remove();\r\n    } else {\r\n        alert(\"手下留情\");\r\n    }\r\n});\r\n\r\n//取消编辑\r\n$(\".dx_box .qxbj_but\").live(\"click\", function () {\r\n    $(this).parent(\".bjqxwc_box\").parent(\".dx_box\").empty().hide();\r\n    $(\".movie_box\").css({\r\n        \"border\": \"1px solid #fff\"\r\n    });\r\n    $(\".kzqy_czbut\").remove();\r\n    //\r\n});\r\n\r\n\r\n//完成编辑（编辑）\r\n$(\".swcbj_but\").live(\"click\", function () {\r\n\r\n    var jcxxxx = $(this).parent(\".bjqxwc_box\").parent(\".dx_box\"); //编辑题目区\r\n    var questionType = jcxxxx.attr(\"data-t\"); //获取题目类型\r\nconsole.log(jcxxxx.find(\".btwen_text\").val())\r\n    if(jcxxxx.find(\".btwen_text\").val()!=\"\"){\r\n\r\n        switch (questionType) {\r\n            case \"0\": //单选\r\n            case \"1\": //多选\r\n                //编辑题目选项的个数\r\n                var bjtm_xm_length = jcxxxx.find(\".title_itram\").children(\".kzjxx_iteam\").length; //编辑选项的 选项个数\r\n                var xmtit_length = jcxxxx.parent(\".movie_box\").children(\".wjdc_list\").children(\"li\").length - 1; //题目选择的个数\r\n\r\n                //赋值文本框\r\n                //题目标题\r\n                var texte_bt_val_bj = jcxxxx.find(\".btwen_text\").val(); //获取问题题目\r\n                jcxxxx.parent(\".movie_box\").children(\".wjdc_list\").children(\"li\").eq(0).find(\".tm_btitlt\").children(\".btwenzi\").text(texte_bt_val_bj); //将修改过的问题题目展示\r\n\r\n                //删除选项\r\n                for (var toljs = xmtit_length; toljs > 0; toljs--) {\r\n                    jcxxxx.parent(\".movie_box\").children(\".wjdc_list\").children(\"li\").eq(toljs).remove();\r\n                }\r\n                //遍历题目项目的文字\r\n                var bjjs_bj = 0;\r\n                jcxxxx.children(\".title_itram\").children(\".kzjxx_iteam\").each(function () {\r\n                    //题目选项\r\n                    var texte_val_bj = $(this).find(\".input_wenbk\").val(); //获取填写信息\r\n                    var inputType = 'radio';\r\n                    //jcxxxx.parent(\".movie_box\").children(\".wjdc_list\").children(\"li\").eq(bjjs_bj + 1).find(\"span\").text(texte_val_bj);\r\n                    if (questionType == \"1\") {\r\n                        inputType = 'checkbox';\r\n                    }\r\n                    var li = '<li><label><input name=\"a\" type=\"' + inputType + '\" value=\"\"><span>' + texte_val_bj + '</span></label></li>';\r\n                    jcxxxx.parent(\".movie_box\").children(\".wjdc_list\").append(li);\r\n\r\n                    bjjs_bj++;\r\n                });\r\n                break;\r\n            case \"2\":\r\n                var texte_bt_val_bj = jcxxxx.find(\".btwen_text\").val(); //获取问题题目\r\n                jcxxxx.parent(\".movie_box\").children(\".wjdc_list\").children(\"li\").eq(0).find(\".tm_btitlt\").children(\".btwenzi\").text(texte_bt_val_bj); //将修改过的问题题目展示\r\n                break;\r\n            case \"3\": //矩阵\r\n                jcxxxx.parent(\".movie_box\").children(\".wjdc_list\").children(\"table\").children(\"tbody\").empty();\r\n                var querstionType = jcxxxx.find(\".xzqk:checked\").val();\r\n                var title = jcxxxx.find(\"textarea.input_wenbk.btwen_text\").val(); //获取标题\r\n                var x_iteam = new Array(); //获取 横向选项\r\n                var y_iteam = \" ,\" + jcxxxx.find(\".leftbtwen_text\").val(); //左标题\r\n                jcxxxx.find(\".title_itram\").children(\"div.kzjxx_iteam\").each(function () {\r\n                    var texte_val_bj = $(this).find(\".input_wenbk\").val(); //获取填写信息\r\n                    var checkbox = $(this).find(\"input.fxk\").is(':checked'); //是否可填空\r\n                    if(texte_val_bj==\"\"){\r\n                        texte_val_bj = \"选项\"\r\n                    }\r\n                    x_iteam.push({\r\n                        name: texte_val_bj,\r\n                        checkbox: checkbox\r\n                    });\r\n\r\n                });\r\n                var y_iteams = y_iteam.split(\",\");\r\n                console.log(y_iteams)\r\n                if(y_iteams.length==2&&y_iteams[1]==\"\"){\r\n                    layer.alert('请将试题填写完整', {\r\n                        skin: 'layui-layer-lan'\r\n                        , closeBtn: 0\r\n                    });\r\n                    return;\r\n                }\r\n                console.log(\"fhdaskfhka\")\r\n                for (var item in y_iteams) { //行\r\n                    var tr = '<tr>',\r\n                        td = '';\r\n                    td += '<td>' + y_iteams[item] + '</td>';\r\n                    for (var i = 0; i < x_iteam.length; i++) { //列\r\n                        if (item != 0) {\r\n                            var inputType = 'radio';\r\n                            if (querstionType == \"1\") {\r\n                                inputType = 'checkbox';\r\n                            }\r\n                            td += '<td><input name=\"c' + item + '\" type=\"' + inputType + '\" value=\"\"> </td>';\r\n                        } else {\r\n                            td += '<td>' + x_iteam[i].name + '</td>';\r\n                        }\r\n                    }\r\n                    jcxxxx.parent(\".movie_box\").children(\".wjdc_list\").children(\".title_wjht\").children(\".btwenzi\").text(title);\r\n                    jcxxxx.parent(\".movie_box\").children(\".wjdc_list\").children(\"table\").children(\"tbody\").append(tr + td);\r\n                }\r\n                break;\r\n            case \"4\": //量表\r\n                jcxxxx.parent(\".movie_box\").children(\".wjdc_list\").children(\"table\").children(\"tbody\").empty();\r\n                var title = jcxxxx.find(\"textarea.input_wenbk.btwen_text\").val(); //获取标题\r\n                var x_iteam = new Array();      //获取 选项文字\r\n                jcxxxx.find(\".title_itram\").children(\"div.kzjxx_iteam\").each(function () {\r\n                    var texte_val_bj = $(this).find(\".lb_word\").val();              //获取选项文字\r\n                    var texte_val_bjGrade = $(this).find(\".lb_grade\").val();              //获取选项分数\r\n                    var checkbox = $(this).find(\"input.fxk\").is(':checked');         //是否可填空\r\n                    x_iteam.push({\r\n                        name: texte_val_bj,\r\n                        grade: texte_val_bjGrade,\r\n                        checkbox: checkbox\r\n                    });\r\n                });\r\n                var lbStr1 = ''\r\n                for (var m = 0; m < x_iteam.length; m++) {\r\n                    lbStr1 += '<div class=\"kzjxx_iteam\">\\n' +\r\n                        '                                                <input name=\"\" type=\"text\" class=\"input_wenbk jzwent_input lb_word\" value=\"' + x_iteam[m].name + '\"\\n' +\r\n                        '                                                       onblur=\"if(!this.value)this.value=\\'选项\\'\"\\n' +\r\n                        '                                                       onclick=\"if(this.value&amp;&amp;this.value==\\'选项\\' )  this.value=\\'\\'\">\\n' +\r\n                        '                                                <input name=\"\" type=\"text\" class=\"input_wenbk jzwent_input lb_grade\" value=\"' + x_iteam[m].grade + '\"\\n' +\r\n                        '                                                       onblur=\"if(!this.value)this.value=\\'选项\\'\"\\n' +\r\n                        '                                                       onclick=\"if(this.value&amp;&amp;this.value==\\'选项\\' )  this.value=\\'\\'\">\\n' +\r\n                        '                                                <!--<label class=\"gradeChoose\">-->\\n' +\r\n                        '                                                <!--<input name=\"\" type=\"checkbox\" value=\"\" class=\"fxk\">-->\\n' +\r\n                        '                                                <!--<span>不计分</span>-->\\n' +\r\n                        '                                                <!--</label>-->\\n' +\r\n                        '                                                <a href=\"javascript:void(0);\" class=\"del_xm\">删除</a>\\n' +\r\n                        '                                            </div>'\r\n                }\r\n                console.log(lbStr1)\r\n                $(\".lb\").find(\"#lb\").html(lbStr1)\r\n                console.log($(\".lb\").html())\r\n                var tr = '<tr>',\r\n                    td = '';\r\n                td += '<td>' + x_iteam[0].name + '</td>';\r\n                for (var i = 0; i < x_iteam.length; i++) { //列\r\n                    if (item != 0) {\r\n                        var inputType = 'radio';\r\n                        if (querstionType == \"1\") {\r\n                            inputType = 'checkbox';\r\n                        }\r\n                        td += '<td><input name=\"c1\" type=\"' + inputType + '\" value=\"' + x_iteam[i].grade + '\" style=\"margin-right: 5px;\">' + x_iteam[i].grade + '</td>';\r\n                    } else {\r\n                        td += '<td>' + x_iteam[i].name + '</td>';\r\n                    }\r\n                }\r\n                td += '<td>' + x_iteam[x_iteam.length - 1].name + '</td>';\r\n                jcxxxx.parent(\".movie_box\").children(\".wjdc_list\").children(\".title_wjht\").children(\".btwenzi\").text(title);\r\n                jcxxxx.parent(\".movie_box\").children(\".wjdc_list\").children(\"table\").children(\"tbody\").append(tr + td);\r\n                console.log(x_iteam)\r\n                break;\r\n        }\r\n        //清除\r\n        $(this).parent(\".bjqxwc_box\").parent(\".dx_box\").empty().hide();\r\n    }else{\r\n        layer.alert('请填写题目再保存', {\r\n            skin: 'layui-layer-lan'\r\n            , closeBtn: 0\r\n        });\r\n    }\r\n});\r\n\r\n//在此题后插入新题\r\nfunction insertQuestion(that) {\r\n    if (tipMsg == \"取消插入点\") {\r\n        $(\"#status_tip\").css(\"display\", \"none\");\r\n        tipMsg = \"在此题后插入新题\";\r\n        return\r\n    }\r\n    //获取点击的“插入新题的最父级div”\r\n    newContain = $(that).parent().parent(\".movie_box\");\r\n    $(\"#status_tip\").css(\"display\", \"block\");\r\n    tipMsg = \"取消插入点\";\r\n}\r\n\r\n//全部编辑完成按钮\r\nfunction editFinish() {\r\n    getQuestion();\r\n    if (questionList.length == 0) {\r\n        layer.msg(\"没有题不能保存\");\r\n    } else {\r\n        for (var i = 0; i < questionList.length; i++) {\r\n            if (questionList[i].questionType != \"2\") {\r\n                if (questionList[i].questionOption == \"\") {\r\n                    alert(\"存在未编辑的问题，无法保存\");\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n        //获取问卷名称\r\n        var questionName = $('.questionTitle').text();\r\n        //获取问卷说明\r\n        var questionContent = $('#pater_desc').html();\r\n        var da = '';\r\n        da = {\r\n            'questionList': questionList,\r\n            'questionTitle': questionTitles, //所有的题目\r\n            'questionId': questionId,\r\n            'dataId': dataId,\r\n            'questionName': questionName,\r\n            'questionContent': questionContent,\r\n            //'endTime': ''\r\n        };\r\n        var urlQ = '/modifyQuestionnaire';\r\n        commonAjaxPost(true, urlQ, da, addQuestionnaireSuccess)\r\n    }\r\n}\r\n\r\n//预览\r\nfunction previewQuestion() {\r\n    //判断有没有问卷id 没有就提示先保存\r\n    // console.log(getCookie('previewId'));\r\n    var idQ = getCookie('previewId');\r\n    if (idQ == undefined) {\r\n        layer.alert('请保存之后再预览', {\r\n            skin: 'layui-layer-lan'\r\n            , closeBtn: 0\r\n        });\r\n    } else {\r\n        deleteCookie('previewId');\r\n        // window.location.href = 'previewQuestionnaire.html?i=' + idQ;\r\n        window.open(\"previewQuestionnaire.html?i=\" + idQ);\r\n    }\r\n}\r\n\r\n//修改标题和问卷说明\r\nfunction changeInfo() {\r\n    //获取当前的\r\n    var questionName = $('.questionTitle').text(); //获取问卷名称\r\n    var questionContent = $('#pater_desc').html();//获取问卷说明\r\n\r\n    //在layer中铺数据\r\n    layer.open({\r\n        type: 1 //Page层类型\r\n        , area: ['500px', '340px']\r\n        , title: '信息修改'\r\n        , shade: 0.6 //遮罩透明度\r\n        , anim: 2 //0-6的动画形式，-1不开启\r\n        , content: '<div style=\"padding: 20px 10px 0 10px;\" id=\"cancelChange\">' +\r\n        '<div class=\"form-group\"><label style=\"margin-bottom: 10px\">问卷标题:</label><input class=\"form-control\" id=\"questionName\"></div>' +\r\n        '<div class=\"form-group\"><label>问卷说明:</label><textarea class=\"form-control\" style=\"height: 80px;\" id=\"questionContent\"></textarea></div>' +\r\n        '<div class=\"form-group\" style=\"margin-left: 330px\">' +\r\n        '<button class=\"layui-btn layui-btn-primary\" onclick=\"cancelChange()\">取消</button>' +\r\n        '<button class=\"layui-btn layui-btn-normal\" onclick=\"sureChange()\">确定</button></div>' +\r\n        '</div>'\r\n    });\r\n    $('#questionName').val(questionName);\r\n    $('#questionContent').val(questionContent);\r\n}\r\n\r\n//点击取消，关闭layer\r\nfunction cancelChange() {\r\n    layer.closeAll();\r\n}\r\n\r\n//获取设计的题\r\nfunction getQuestion() {\r\n    questionList = [];\r\n    var questionNum = $(\".yd_box\").find(\".movie_box\").length;\r\n    questionTitles = '';\r\n    for (var i = 0; i < questionNum; i++) {\r\n        var jcxxxx = $(\".yd_box\").children(\".movie_box\").eq(i); //获取带有题目类型的div\r\n        var questionType = jcxxxx.children(\".dx_box\").attr(\"data-t\"); //获取题目类型\r\n        var questionObj = {questionType: \"\", questionTitle: \"\", questionOption: [], important: \"\"};  //单个题和选项\r\n        questionObj.questionType = questionType;\r\n        switch (questionType) {\r\n            case \"0\": //单选\r\n            case \"1\": //多选\r\n                console.log(jcxxxx.children(\".wjdc_list\").children(\"li\").children(\".tm_btitlt\").find(\".bida\").html())\r\n\r\n                //题目选项的个数\r\n                var xmtit_length = jcxxxx.parent(\".movie_box\").children(\".wjdc_list\").children(\"li\").length - 1;\r\n                //题目标题\r\n                var texte_bt_val_bj = jcxxxx.children(\".wjdc_list\").children(\"li\").children(\".tm_btitlt\").find(\".btwenzi\").html();\r\n                questionObj.questionTitle = texte_bt_val_bj;\r\n                questionTitles += texte_bt_val_bj + \"&\";\r\n                //遍历题目项目的文字\r\n                var bjjs_bj = 0;\r\n                //存选项的数组\r\n                var questionOption = [];  //单个题的所有选项\r\n                jcxxxx.children(\".wjdc_list\").children(\"li\").each(function () {\r\n                    var questionOptionObj = {lineTitle: \"\", optionWord: \"\", optionGrade: \"\"};  //单个题的单个选项\r\n                    var chooseOption = jcxxxx.children(\".wjdc_list\").children(\"li\").eq(bjjs_bj + 1).find(\"span\").text(); //题目选项文字\r\n                    questionOptionObj.optionWord = chooseOption;  //选项文字\r\n                    questionOption.push(questionOptionObj);\r\n                    bjjs_bj++;\r\n                });\r\n                questionOption.splice(-1, 1);\r\n                questionObj.important = jcxxxx.children(\".wjdc_list\").children(\"li\").children(\".tm_btitlt\").find(\".bida\").html();\r\n                questionObj.questionOption = questionOption;\r\n                questionList.push(questionObj);\r\n                break;\r\n            case \"2\":\r\n                //题目标题\r\n                var texte_bt_val_bj = jcxxxx.children(\".wjdc_list\").children(\"li\").children(\".tm_btitlt\").find(\".btwenzi\").html();\r\n                questionTitles += texte_bt_val_bj + \"&\";\r\n                questionObj.questionTitle = texte_bt_val_bj;\r\n                questionObj.important = jcxxxx.children(\".wjdc_list\").children(\"li\").children(\".tm_btitlt\").find(\".bida\").html();\r\n                questionList.push(questionObj);\r\n                break;\r\n            case \"3\": //矩阵\r\n                //题目标题\r\n                var texte_bt_val_bj = jcxxxx.children(\".wjdc_list\").children(\".title_wjht\").children(\".btwenzi\").html();\r\n                questionTitles += texte_bt_val_bj + \"&\";\r\n                questionObj.questionTitle = texte_bt_val_bj;\r\n                //遍历题目项目的文字\r\n                var bjjs_bj = 0;\r\n                //存选项的数组\r\n                var questionOption = [];  //单个题的所有选项\r\n                if (jcxxxx.children(\".wjdc_list\").children(\".tswjdc_table\").children('tbody').find('tr').eq(0).find('td').length > jcxxxx.children(\".wjdc_list\").children(\".tswjdc_table\").children('tbody').find('tr').length) {\r\n                    jcxxxx.children(\".wjdc_list\").children(\".tswjdc_table\").children('tbody').find('tr').eq(0).find('td').each(function () {\r\n                        var questionOptionObj = {lineTitle: \"\", optionWord: \"\", optionGrade: \"\"};  //单个题的单个选项\r\n                        var lineTitle = jcxxxx.children(\".wjdc_list\").children(\".tswjdc_table\").children('tbody').find('tr').eq(bjjs_bj + 1).find('td').eq(0).html(); //题目选项文字\r\n                        if (lineTitle == null) {\r\n                            lineTitle = '';\r\n                        }\r\n                        questionOptionObj.lineTitle = lineTitle;  //行标题\r\n                        var chooseOption = jcxxxx.children(\".wjdc_list\").children(\".tswjdc_table\").children('tbody').find('tr').eq(0).find('td').eq(bjjs_bj + 1).html(); //题目选项文字\r\n                        if (chooseOption == null) {\r\n                            chooseOption = '';\r\n                        }\r\n                        questionOptionObj.optionWord = chooseOption;  //选项文字\r\n                        questionOption.push(questionOptionObj);\r\n                        bjjs_bj++;\r\n                    });\r\n                } else {\r\n                    jcxxxx.children(\".wjdc_list\").children(\".tswjdc_table\").children('tbody').find('tr').each(function () {\r\n                        var questionOptionObj = {lineTitle: \"\", optionWord: \"\", optionGrade: \"\"};  //单个题的单个选项\r\n                        var lineTitle = jcxxxx.children(\".wjdc_list\").children(\".tswjdc_table\").children('tbody').find('tr').eq(bjjs_bj + 1).find('td').eq(0).html(); //题目选项文字\r\n                        if (lineTitle == null) {\r\n                            lineTitle = '';\r\n                        }\r\n                        questionOptionObj.lineTitle = lineTitle;  //行标题\r\n                        var chooseOption = jcxxxx.children(\".wjdc_list\").children(\".tswjdc_table\").children('tbody').find('tr').eq(0).find('td').eq(bjjs_bj + 1).html(); //题目选项文字\r\n                        if (chooseOption == null) {\r\n                            chooseOption = '';\r\n                        }\r\n                        questionOptionObj.optionWord = chooseOption;  //选项文字\r\n                        questionOption.push(questionOptionObj);\r\n                        bjjs_bj++;\r\n                    });\r\n                }\r\n                if (questionOption[questionOption.length - 1].lineTitle == '') {\r\n                    //去掉最后一个为空的元素\r\n                    questionOption.splice(-1, 1);\r\n                }\r\n                questionObj.important = jcxxxx.children(\".wjdc_list\").children(\".title_wjht\").find(\".bida\").html();\r\n                questionObj.questionOption = questionOption;\r\n                questionList.push(questionObj);\r\n                break;\r\n            case \"4\": //量表\r\n                //题目标题\r\n                var texte_bt_val_bj = jcxxxx.children(\".wjdc_list\").children(\".title_wjht\").children(\".btwenzi\").html();\r\n                questionTitles += texte_bt_val_bj + \"&\";\r\n                questionObj.questionTitle = texte_bt_val_bj;\r\n                //遍历题目项目的文字\r\n                var bjjs_bj = 0;\r\n                //存选项的数组\r\n                var questionOption = [];  //单个题的所有选项\r\n                jcxxxx.children(\".wjdc_list\").children(\".tswjdc_table\").children('tbody').find('tr').eq(0).find('td').each(function () {\r\n                    var questionOptionObj = {lineTitle: \"\", optionWord: \"\", optionGrade: \"\"};  //单个题的单个选项\r\n                    var chooseOption = jcxxxx.children(\".wjdc_list\").children(\".tswjdc_table\").children('tbody').find('tr').eq(0).find('td').eq(bjjs_bj).text(); //题目选项文字\r\n                    questionOptionObj.optionWord = chooseOption;  //选项文字\r\n                    questionOption.push(questionOptionObj);\r\n                    bjjs_bj++;\r\n                });\r\n                questionObj.important = jcxxxx.children(\".wjdc_list\").children(\".title_wjht\").find(\".bida\").html();\r\n                questionObj.questionOption = questionOption;\r\n                questionList.push(questionObj);\r\n                break;\r\n        }\r\n    }\r\n    ;\r\n    console.log(questionList)\r\n}\r\n\r\n//确定按钮-------修改标题 和说明\r\nfunction sureChange() {\r\n    //获取修改之后的val\r\n    var questionName = $('#questionName').val();\r\n    var questionContent = $('#questionContent').val();\r\n    if (questionName == \"\") {\r\n        layer.msg(\"问卷标题不能为空\", {icon: 2});\r\n        return;\r\n    } else if (questionContent == \"\") {\r\n        layer.msg(\"问卷说明不能为空\", {icon: 2});\r\n        return;\r\n    }\r\n    //铺在界面上\r\n    $('.questionTitle').text(questionName); //获取问卷名称\r\n    $('#pater_desc').html(questionContent);//获取问卷说明\r\n    layer.closeAll();\r\n}\r\n\r\n//完成问卷设计的总按钮 的回掉\r\nfunction addQuestionnaireSuccess(res) {\r\n    // console.log(res);\r\n    if (res.code == '666') {\r\n        deleteCookie('QuestionId');\r\n        deleteCookie('previewId');\r\n        layer.msg(res.message, {icon: 1});\r\n        if (res.message == '添加成功') {\r\n            setCookie('QuestionId', res.data);\r\n            setCookie('previewId', res.data);\r\n            judgeQuestionId();\r\n            // console.log(getCookie('QuestionId'));\r\n            questionList = [];\r\n        } else if (res.message == '修改成功') {\r\n            setCookie('QuestionId', res.data);\r\n            setCookie('previewId', res.data);\r\n            judgeQuestionId();\r\n            // console.log(getCookie('QuestionId'));\r\n        }\r\n    } else if (res.code == \"333\") {\r\n        layer.msg(res.message, {icon: 2});\r\n        setTimeout(function () {\r\n            window.location.href = 'login.html';\r\n        }, 1000)\r\n    } else {\r\n        layer.msg(res.message, {icon: 2});\r\n    }\r\n}\r\n\r\n//根据id查询问卷详情\r\nfunction queryQuestionnaireAllSuccess(res) {\r\n    console.log(res);\r\n    deleteCookie('questionList');\r\n    if (res.code == '666') {\r\n        // alert(\"查询问卷详情成功\");\r\n        //查询的是历史问卷\r\n        questionIdForChange = res.data.id;\r\n        dataId = res.data.dataId;\r\n        console.log(res.data.questionName);\r\n        $('.questionTitle').text(res.data.questionName); //问卷名称\r\n        $('#pater_desc').html(res.data.questionContent);//问卷说明\r\n        if (res.data.questionStop == '4' || res.data.questionStop == '0') {\r\n            if (getCookie('isEdit') != '1') {\r\n                deleteCookie('QuestionId');\r\n                judgeQuestionId();\r\n                $('.questionTitle').text(questionInfo.questionName); //问卷名称\r\n                $('#pater_desc').html(questionInfo.questionContent);//问卷说明\r\n            }\r\n        } else if (res.data.questionStop == '5') {\r\n            endTime = res.data.endTime;\r\n            startTime = res.data.startTime;\r\n            questionStop = res.data.questionStop;\r\n        }\r\n        var question = res.data.questionList;\r\n        setCookie('questionList', question);\r\n        if (question != null) {\r\n            for (var i = 0; i < question.length; i++) {\r\n                // console.log(question[i]);\r\n                showQuestion(question[i]);\r\n            }\r\n        }\r\n    } else if (result.code == \"333\") {\r\n        layer.msg(res.message, {icon: 2});\r\n        setTimeout(function () {\r\n            window.location.href = 'login.html';\r\n        }, 1000)\r\n    } else {\r\n        layer.msg(res.message, {icon: 2});\r\n    }\r\n}\r\n\r\n//展示题\r\nfunction showQuestion(question) {\r\n    //question.questionType 选择添加问题的类型\r\n    var index = question.questionType;\r\n    if (index == \"-1\") {\r\n        return;\r\n    }\r\n    var movie_box = '<div class=\"movie_box\" style=\"border: 1px solid rgb(255, 255, 255);\"></div>';\r\n    var Grade = $(\".yd_box\").find(\".movie_box\").length + 1;\r\n    switch (index) {\r\n        case \"0\": //单选\r\n        case \"1\": //多选\r\n        case \"2\": //问答\r\n            var wjdc_list = '<ul class=\"wjdc_list\"></ul>'; //问答 单选 多选\r\n            var danxuan = \"\";\r\n            var type = '';\r\n            if (index == \"0\") {\r\n                danxuan = '【单选】';\r\n                type = 'radio';\r\n            } else if (index == \"1\") {\r\n                danxuan = '【多选】';\r\n                type = 'checkbox';\r\n            } else if (index == \"2\") {\r\n                danxuan = '【问答】';\r\n            }\r\n            wjdc_list = $(wjdc_list).append(' <li><div class=\"tm_btitlt\"><i class=\"nmb\">' + Grade + '</i>. <i class=\"btwenzi\">' + question.questionTitle + '</i><span class=\"tip_wz\"><a href=\\'javascript:void(0)\\'  class=\\'bida\\'>' + question.important + '</a></span></div></li>');\r\n            for (var i = 0; i < question.questionOption.length; i++) {\r\n                var li = '';\r\n                li = '<li><label><input name=\"a' + i + '\" type=\"' + type + '\" value=\"\"><span>' + question.questionOption[i].optionWord + '</span></label></li>';\r\n                wjdc_list = $(wjdc_list).append(li);\r\n            }\r\n            if (index == \"2\") {\r\n                wjdc_list = $(wjdc_list).append('<li>  <label> <textarea name=\"\" cols=\"\" rows=\"\" class=\"input_wenbk btwen_text btwen_text_dx\" readonly=\"readonly\"></textarea></label> </li>');\r\n            }\r\n\r\n            if (tipMsg == \"取消插入点\") {\r\n                $(\"#status_tip\").css(\"display\", \"none\");\r\n                tipMsg = \"在此题后插入新题\";\r\n                //在div后添加新题的容器\r\n                movie_boxForInsert = $(movie_boxForInsert).append(wjdc_list);\r\n                movie_boxForInsert = $(movie_boxForInsert).append('<div class=\"dx_box\" data-t=\"' + index + '\"></div>');\r\n                newContain.after(movie_boxForInsert);\r\n                var xh_num = 0;\r\n                //重新编号\r\n                $(\".yd_box\").find(\".movie_box\").each(function () {\r\n                    $(\".yd_box\").children(\".movie_box\").eq(xh_num).find(\".nmb\").text(xh_num + 1);\r\n                    xh_num++;\r\n                    //alert(xh_num);\r\n                });\r\n                movie_boxForInsert = '<div class=\"movie_box\" style=\"border: 1px solid rgb(255, 255, 255);\"></div>';\r\n            } else {\r\n                movie_box = $(movie_box).append(wjdc_list);\r\n                movie_box = $(movie_box).append('<div class=\"dx_box\" data-t=\"' + index + '\"></div>');\r\n                $(\".yd_box\").append(movie_box);\r\n            }\r\n            break;\r\n        case \"3\":\r\n            var wjdc_list = ' <div class=\"wjdc_list\">' +\r\n                '<h4 class=\"title_wjht\">' +\r\n                '<i class=\"nmb\">' + Grade + '</i>.<span class=\"btwenzi\">' + question.questionTitle + '</span>' +\r\n                '<span class=\"tip_wz\"><a href=\"javascript:void(0)\"  class=\"bida\">' + question.important + '</a></span>' +\r\n                '</h4>'\r\n            '</div>';\r\n            var tswjdc_table = ' <table width=\"100%\" border=\"0\" cellspacing=\"0\" cellpadding=\"0\" class=\"tswjdc_table\">' +\r\n                '<tbody></tbody>' +\r\n                '</table>';\r\n            var tr = '<tr><td></td></tr>';\r\n            // var trR = '<tr><td>' + question.questionOption[0].lineTitle + '</td></tr>';\r\n            for (var k = 0; k < question.questionOption.length; k++) {\r\n                var td = '';\r\n                if (question.questionOption[k].optionWord != \"\") {\r\n                    td = '<td>' + question.questionOption[k].optionWord + '</td>';\r\n                    tr = $(tr).append(td);\r\n                    tswjdc_table = $(tswjdc_table).append(tr);\r\n                }\r\n            }\r\n            for (var i = 0; i < question.questionOption.length; i++) {\r\n                if (question.questionOption[i].lineTitle != '') {\r\n                    var trR = '<tr><td>' + question.questionOption[i].lineTitle + '</td></tr>';\r\n                    for (var m = 0; m < question.questionOption.length; m++) {\r\n                        if (question.questionOption[m].optionWord != \"\") {\r\n                            var td = '';\r\n                            td = '<td><input name=\"c' + i + '\" type=\"radio\" value=\"' + m + '\"></td>';\r\n                            trR = $(trR).append(td);\r\n                        }\r\n                    }\r\n                }\r\n                tswjdc_table = $(tswjdc_table).append(trR);\r\n            }\r\n            var jzStr = ''\r\n            for (var m = 0; m < question.questionOption.length; m++) {\r\n                if (question.questionOption[m].optionWord != \"\") {\r\n                    jzStr += '  <div class=\"kzjxx_iteam\">\\n' +\r\n                        '                                                <input name=\"\" type=\"text\" class=\"input_wenbk jzwent_input\" value=\"\"\\n' +\r\n                        '                                                       onblur=\"if(!this.value)this.value=\\'选项\\'\"\\n' +\r\n                        '                                                       onclick=\"if(this.value&amp;&amp;this.value==\\'选项\\' )  this.value=\\'\\'\">\\n' +\r\n                        '                                                <a href=\"javascript:void(0);\" class=\"del_xm\">删除</a>\\n' +\r\n                        '                                            </div>'\r\n                }\r\n            }\r\n            $(\"#zj\").html(jzStr)\r\n            // for (var m = 0; m < question.questionOption.length; m++) {\r\n            //     var td = '';\r\n            //     td = '<td><input name=\"c1\" type=\"radio\" value=\"' + m + '\"></td>';\r\n            //     trR = $(trR).append(td);\r\n            // }\r\n            // tswjdc_table = $(tswjdc_table).append(tr);\r\n            // tswjdc_table = $(tswjdc_table).append(trR);\r\n            wjdc_list = $(wjdc_list).append(tswjdc_table);\r\n\r\n            if (tipMsg == \"取消插入点\") {\r\n                $(\"#status_tip\").css(\"display\", \"none\");\r\n                tipMsg = \"在此题后插入新题\";\r\n                //在div后添加新题的容器\r\n                movie_boxForInsert = $(movie_boxForInsert).append(wjdc_list);\r\n                movie_boxForInsert = $(movie_boxForInsert).append('<div class=\"dx_box\" data-t=\"' + index + '\"></div>');\r\n                newContain.after(movie_boxForInsert);\r\n                var xh_num = 0;\r\n                //重新编号\r\n                $(\".yd_box\").find(\".movie_box\").each(function () {\r\n                    $(\".yd_box\").children(\".movie_box\").eq(xh_num).find(\".nmb\").text(xh_num + 1);\r\n                    xh_num++;\r\n                    //alert(xh_num);\r\n                });\r\n                movie_boxForInsert = '<div class=\"movie_box\" style=\"border: 1px solid rgb(255, 255, 255);\"></div>';\r\n            } else {\r\n                movie_box = $(movie_box).append(wjdc_list);\r\n                movie_box = $(movie_box).append('<div class=\"dx_box\" data-t=\"' + index + '\"></div>');\r\n                $(\".yd_box\").append(movie_box);\r\n            }\r\n            break;\r\n        case \"4\":  //量表\r\n            var wjdc_list = ' <div class=\"wjdc_list\">' +\r\n                '<h4 class=\"title_wjht\">' +\r\n                '<i class=\"nmb\">' + Grade + '</i>.<span class=\"btwenzi\">' + question.questionTitle + '</span>' +\r\n                '<span class=\"tip_wz\"><a href=\"javascript:void(0)\"  class=\"bida\">' + question.important + '</a></span>' +\r\n                '</h4>'\r\n            '</div>';\r\n            var tswjdc_table = ' <table width=\"100%\" border=\"0\" cellspacing=\"0\" cellpadding=\"0\" class=\"tswjdc_table\">' +\r\n                '<tbody></tbody>' +\r\n                '</table>';\r\n            var tr = '<tr><td>' + question.questionOption[0].optionWord + '</td></tr>';\r\n\r\n            for (var j = 1; j < question.questionOption.length - 1; j++) {\r\n                var td = '';\r\n                td = '<td><input name=\"c1\" type=\"radio\" value=\"' + question.questionOption[j].optionWord + '\" style=\"margin-right: 5px\">' + question.questionOption[j].optionWord + '</td>';\r\n                tr = $(tr).append(td);\r\n            }\r\n            var tdL = '<td>' + question.questionOption[question.questionOption.length - 1].optionWord + '</td>'\r\n            tr = $(tr).append(tdL);\r\n            tswjdc_table = $(tswjdc_table).append(tr);\r\n            wjdc_list = $(wjdc_list).append(tswjdc_table);\r\n            var lbStr = ''\r\n            for (var m = 1; m < question.questionOption.length - 1; m++) {\r\n                if (m == 1) {\r\n                    lbStr += '<div class=\"kzjxx_iteam\">\\n' +\r\n                        '                                                <input name=\"\" type=\"text\" class=\"input_wenbk jzwent_input lb_word\" value=\"' + question.questionOption[0].optionWord + '\"\\n' +\r\n                        '                                                       onblur=\"if(!this.value)this.value=\\'\\'\"\\n' +\r\n                        '                                                       onclick=\"if(this.value&amp;&amp;this.value==\\'\\' )  this.value=\\'\\'\">\\n' +\r\n                        '                                                <input name=\"\" type=\"text\" class=\"input_wenbk jzwent_input lb_grade\" value=\"' + question.questionOption[m].optionWord + '\"\\n' +\r\n                        '                                                       onblur=\"if(!this.value)this.value=\\'选项\\'\"\\n' +\r\n                        '                                                       onclick=\"if(this.value&amp;&amp;this.value==\\'选项\\' )  this.value=\\'\\'\">\\n' +\r\n                        '                                                <!--<label class=\"gradeChoose\">-->\\n' +\r\n                        '                                                <!--<input name=\"\" type=\"checkbox\" value=\"\" class=\"fxk\">-->\\n' +\r\n                        '                                                <!--<span>不计分</span>-->\\n' +\r\n                        '                                                <!--</label>-->\\n' +\r\n                        '                                                <a href=\"javascript:void(0);\" class=\"del_xm\">删除</a>\\n' +\r\n                        '                                            </div>'\r\n                } else if (m == question.questionOption.length - 2) {\r\n                    lbStr += '<div class=\"kzjxx_iteam\">\\n' +\r\n                        '                                                <input name=\"\" type=\"text\" class=\"input_wenbk jzwent_input lb_word\" value=\"' + question.questionOption[m + 1].optionWord + '\"\\n' +\r\n                        '                                                       onblur=\"if(!this.value)this.value=\\'\\'\"\\n' +\r\n                        '                                                       onclick=\"if(this.value&amp;&amp;this.value==\\'\\' )  this.value=\\'\\'\">\\n' +\r\n                        '                                                <input name=\"\" type=\"text\" class=\"input_wenbk jzwent_input lb_grade\" value=\"' + question.questionOption[m].optionWord + '\"\\n' +\r\n                        '                                                       onblur=\"if(!this.value)this.value=\\'选项\\'\"\\n' +\r\n                        '                                                       onclick=\"if(this.value&amp;&amp;this.value==\\'选项\\' )  this.value=\\'\\'\">\\n' +\r\n                        '                                                <!--<label class=\"gradeChoose\">-->\\n' +\r\n                        '                                                <!--<input name=\"\" type=\"checkbox\" value=\"\" class=\"fxk\">-->\\n' +\r\n                        '                                                <!--<span>不计分</span>-->\\n' +\r\n                        '                                                <!--</label>-->\\n' +\r\n                        '                                                <a href=\"javascript:void(0);\" class=\"del_xm\">删除</a>\\n' +\r\n                        '                                            </div>'\r\n                } else {\r\n                    lbStr += '<div class=\"kzjxx_iteam\">\\n' +\r\n                        '                                                <input name=\"\" type=\"text\" class=\"input_wenbk jzwent_input lb_word\" value=\"\"\\n' +\r\n                        '                                                       onblur=\"if(!this.value)this.value=\\'\\'\"\\n' +\r\n                        '                                                       onclick=\"if(this.value&amp;&amp;this.value==\\'\\' )  this.value=\\'\\'\">\\n' +\r\n                        '                                                <input name=\"\" type=\"text\" class=\"input_wenbk jzwent_input lb_grade\" value=\"' + question.questionOption[m].optionWord + '\"\\n' +\r\n                        '                                                       onblur=\"if(!this.value)this.value=\\'选项\\'\"\\n' +\r\n                        '                                                       onclick=\"if(this.value&amp;&amp;this.value==\\'选项\\' )  this.value=\\'\\'\">\\n' +\r\n                        '                                                <!--<label class=\"gradeChoose\">-->\\n' +\r\n                        '                                                <!--<input name=\"\" type=\"checkbox\" value=\"\" class=\"fxk\">-->\\n' +\r\n                        '                                                <!--<span>不计分</span>-->\\n' +\r\n                        '                                                <!--</label>-->\\n' +\r\n                        '                                                <a href=\"javascript:void(0);\" class=\"del_xm\">删除</a>\\n' +\r\n                        '                                            </div>'\r\n                }\r\n            }\r\n            $(\"#lb\").html(lbStr)\r\n            if (tipMsg == \"取消插入点\") {\r\n                $(\"#status_tip\").css(\"display\", \"none\");\r\n                tipMsg = \"在此题后插入新题\";\r\n                //在div后添加新题的容器\r\n                movie_boxForInsert = $(movie_boxForInsert).append(wjdc_list);\r\n                movie_boxForInsert = $(movie_boxForInsert).append('<div class=\"dx_box\" data-t=\"' + index + '\"></div>');\r\n                newContain.after(movie_boxForInsert);\r\n                var xh_num = 0;\r\n                //重新编号\r\n                $(\".yd_box\").find(\".movie_box\").each(function () {\r\n                    $(\".yd_box\").children(\".movie_box\").eq(xh_num).find(\".nmb\").text(xh_num + 1);\r\n                    xh_num++;\r\n                    //alert(xh_num);\r\n                });\r\n                movie_boxForInsert = '<div class=\"movie_box\" style=\"border: 1px solid rgb(255, 255, 255);\"></div>';\r\n            } else {\r\n                movie_box = $(movie_box).append(wjdc_list);\r\n                movie_box = $(movie_box).append('<div class=\"dx_box\" data-t=\"' + index + '\"></div>');\r\n                $(\".yd_box\").append(movie_box);\r\n            }\r\n            break;\r\n    }\r\n    $(\".movie_box\").hover(function () {\r\n        var html_cz = \"<div class='kzqy_czbut'>\" +\r\n            \"<a href='javascript:void(0)' id='insert' style='text-decoration:underline;border: none;color:#f00'onclick='insertQuestion(this)'>\" + tipMsg + \"</a>\" +\r\n            \"<a href='javascript:void(0)' class='sy'>上移</a>\" +\r\n            \"<a href='javascript:void(0)'  class='xy'>下移</a>\" +\r\n            \"<a href='javascript:void(0)'  class='first'>最前</a>\" +\r\n            \"<a href='javascript:void(0)'  class='last'>最后</a>\" +\r\n            \"<a href='javascript:void(0)'  class='copy'>复制</a>\" +\r\n            \"<a href='javascript:void(0)'  class='bianji'>编辑</a>\" +\r\n            // \"<a href='javascript:void(0)'  class='bida'>必答题</a>\" +\r\n            \"<a href='javascript:void(0)' class='del'>删除</a>\" +\r\n            \"</div>\";\r\n        $(this).css({\r\n            \"border\": \"1px solid #fdb553\"\r\n        });\r\n        $(this).children(\".wjdc_list\").after(html_cz);\r\n    }, function () {\r\n        $(this).css({\r\n            \"border\": \"1px solid #fff\"\r\n        });\r\n        $(this).children(\".kzqy_czbut\").remove();\r\n        //$(this).children(\".dx_box\").hide();\r\n    });\r\n\r\n};\r\n\r\nfunction judgeQuestionId() {\r\n    if (getCookie('QuestionId') == undefined) {\r\n        aaa = 0;\r\n    } else {\r\n        aaa = 1;\r\n    }\r\n}\r\n\r\nfunction judgeProjectId() {\r\n    if (getCookie('projectIdForCreate') == undefined) {\r\n        bbb = 0;\r\n    } else {\r\n        bbb = 1;\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/target/classes/static/pages/answerQuestionJs/designQuestionnaire.js b/target/classes/static/pages/answerQuestionJs/designQuestionnaire.js
--- a/target/classes/static/pages/answerQuestionJs/designQuestionnaire.js	(revision 4fd5abff4e98fd9fdc9423ae14e13c9121fc2353)
+++ b/target/classes/static/pages/answerQuestionJs/designQuestionnaire.js	(date 1656786396077)
@@ -959,6 +959,7 @@
         //获取问卷说明
         var questionContent = $('#pater_desc').html();
         var da = '';
+        var url = '';
         da = {
             'questionList': questionList,
             'questionTitle': questionTitles, //所有的题目
Index: target/classes/static/pages/answerQuestionJs/userManage.js
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>/**\r\n * Created by Amy on 2018/8/9.\r\n */\r\n$(function () {\r\n    isLoginFun();\r\n    header();\r\n    $(\"#ctl01_lblUserName\").text(getCookie('userName'));\r\n    var oTable = new TableInit();\r\n    oTable.Init();\r\n});\r\n\r\n//回车事件\r\n$(document).keydown(function (event) {\r\n    if (event.keyCode == 13) {\r\n        getUserList();\r\n    }\r\n});\r\n\r\n$('#userManager').on(\"keydown\", function (event) {\r\n    var keyCode = event.keyCode || event.which;\r\n    if (keyCode == \"13\") {\r\n        //console.log(\"1111\")\r\n        event.preventDefault();\r\n    }\r\n});\r\n\r\nfunction getUserList() {\r\n    $(\"#userTable\").bootstrapTable('refresh');\r\n}\r\n\r\nfunction TableInit() {\r\n\r\n    var oTableInit = new Object();\r\n    //初始化Table\r\n    oTableInit.Init = function () {\r\n        $('#userTable').bootstrapTable({\r\n            url: httpRequestUrl + '/admin/queryUserList',         //请求后台的URL（*）\r\n            method: 'POST',                      //请求方式（*）\r\n            striped: true,                      //是否显示行间隔色\r\n            cache: false,                       //是否使用缓存，默认为true，所以一般情况下需要设置一下这个属性（*）\r\n            pagination: true,                   //是否显示分页（*）\r\n            sortOrder: \"asc\",                   //排序方式\r\n            queryParamsType: '',\r\n            dataType: 'json',\r\n            paginationShowPageGo: true,\r\n            showJumpto: true,\r\n            pageNumber: 1, //初始化加载第一页，默认第一页\r\n            queryParams: queryParams,//请求服务器时所传的参数\r\n            sidePagination: 'server',//指定服务器端分页\r\n            pageSize: 10,//单页记录数\r\n            pageList: [10, 20, 30, 40],//分页步进值\r\n            search: false, //是否显示表格搜索，此搜索是客户端搜索，不会进服务端，所以，个人感觉意义不大\r\n            silent: true,\r\n            showRefresh: false,                  //是否显示刷新按钮\r\n            showToggle: false,\r\n            minimumCountColumns: 2,             //最少允许的列数\r\n            uniqueId: \"id\",                     //每一行的唯一标识，一般为主键列\r\n\r\n            columns: [{\r\n                checkbox: true,\r\n                visible: false\r\n            }, {\r\n                field: 'id',\r\n                title: '序号',\r\n                align: 'center',\r\n                formatter: function (value, row, index) {\r\n                    return index + 1;\r\n                }\r\n            },\r\n                {\r\n                    field: 'username',\r\n                    title: '用户账号',\r\n                    align: 'center',\r\n                    width: '230px'\r\n                },\r\n                {\r\n                    field: 'password',\r\n                    title: '用户密码',\r\n                    align: 'center'\r\n                }, {\r\n                    field: 'startTime',\r\n                    title: '开始时间',\r\n                    align: 'center'\r\n                }, {\r\n                    field: 'endTime',\r\n                    title: '结束时间',\r\n                    align: 'center'\r\n                },\r\n                {\r\n                    field: 'operation',\r\n                    title: '操作',\r\n                    align: 'center',\r\n                    events: operateEvents,//给按钮注册事件\r\n                    formatter: addFunctionAlty//表格中增加按钮\r\n                }],\r\n            responseHandler: function (res) {\r\n                console.log(res.toString());\r\n                if(res.code == \"666\"){\r\n                    var userInfo = res.data.list;\r\n                    // var userInfo=JSON.parse('[{\"password\":\"1\",\"startTime\":\"2022-05-12T10:09:28\",\"id\":\"1\",\"endTime\":\"2022-05-12T10:09:30\",\"username\":\"aa\",\"status\":\"1\"},{\"password\":\"123\",\"startTime\":\"2022-05-12T12:10:37\",\"id\":\"290e08f3ea154e33ad56a18171642db1\",\"endTime\":\"2022-06-11T12:10:37\",\"username\":\"aaa\",\"status\":\"1\"},{\"password\":\"1\",\"startTime\":\"2018-10-24T09:49:00\",\"id\":\"8ceeee2995f3459ba1955f85245dc7a5\",\"endTime\":\"2025-11-24T09:49:00\",\"username\":\"admin\",\"status\":\"1\"},{\"password\":\"aa\",\"startTime\":\"2022-05-16T12:01:54\",\"id\":\"a6f15c3be07f42e5965bec199f7ebbe6\",\"endTime\":\"2022-06-15T12:01:54\",\"username\":\"aaaaa\",\"status\":\"1\"}]');\r\n                    var NewData = [];\r\n                    if (userInfo.length) {\r\n                        for (var i = 0; i < userInfo.length; i++) {\r\n                            var dataNewObj = {\r\n                                'id': '',\r\n                                \"username\": '',\r\n                                'password': '',\r\n                                \"startTime\": '',\r\n                                'endTime': '',\r\n                                'status': ''\r\n                            };\r\n\r\n                            dataNewObj.id = userInfo[i].id;\r\n                            dataNewObj.username = userInfo[i].username;\r\n                            dataNewObj.password = userInfo[i].password;\r\n                            dataNewObj.startTime = userInfo[i].startTime;\r\n                            dataNewObj.endTime = userInfo[i].endTime;\r\n                            dataNewObj.status = userInfo[i].status;\r\n                            NewData.push(dataNewObj);\r\n                        }\r\n                        //console.log(NewData)\r\n                    }\r\n                    var data = {\r\n                        total: res.data.total,\r\n                        rows: NewData\r\n                    };\r\n\r\n                    return data;\r\n                }\r\n\r\n            }\r\n\r\n        });\r\n    };\r\n\r\n    // 得到查询的参数\r\n    function queryParams(params) {\r\n        var userName = $(\"#keyWord\").val();\r\n        //console.log(userName);\r\n        var temp = {   //这里的键的名字和控制器的变量名必须一直，这边改动，控制器也需要改成一样的\r\n            pageNum: params.pageNumber,\r\n            pageSize: params.pageSize,\r\n            userName: userName\r\n        };\r\n        return JSON.stringify(temp);\r\n    }\r\n\r\n    return oTableInit;\r\n}\r\n\r\n\r\nwindow.operateEvents = {\r\n    //编辑\r\n    'click #btn_count': function (e, value, row, index) {\r\n        id = row.id;\r\n        $.cookie('questionId', id);\r\n    }\r\n};\r\n\r\n\r\n// 表格中按钮\r\nfunction addFunctionAlty(value, row, index) {\r\n    var btnText = '';\r\n\r\n    btnText += \"<button type=\\\"button\\\" id=\\\"btn_look\\\" onclick=\\\"resetPassword(\" + \"'\" + row.id + \"'\" + \")\\\" style='width: 77px;' class=\\\"btn btn-default-g ajax-link\\\">重置密码</button>&nbsp;&nbsp;\";\r\n\r\n    btnText += \"<button type=\\\"button\\\" id=\\\"btn_look\\\" onclick=\\\"editUserPage(\" + \"'\" + row.id + \"')\\\" class=\\\"btn btn-default-g ajax-link\\\">编辑</button>&nbsp;&nbsp;\";\r\n\r\n    if (row.status == \"1\") {\r\n        btnText += \"<button type=\\\"button\\\" id=\\\"btn_stop\" + row.id + \"\\\" onclick=\\\"changeStatus(\" + \"'\" + row.id + \"'\" + \")\\\" class=\\\"btn btn-danger-g ajax-link\\\">关闭</button>&nbsp;&nbsp;\";\r\n    } else if (row.status == \"0\") {\r\n        btnText += \"<button type=\\\"button\\\" id=\\\"btn_stop\" + row.id + \"\\\" onclick=\\\"changeStatus(\" + \"'\" + row.id + \"'\" + \")\\\" class=\\\"btn btn-success-g ajax-link\\\">开启</button>&nbsp;&nbsp;\"\r\n    }\r\n    btnText += \"<button type=\\\"button\\\" id=\\\"btn_stop\" + row.id + \"\\\" onclick=\\\"deleteUser(\" + \"'\" + row.id + \"'\" + \")\\\" class=\\\"btn btn-danger-g ajax-link\\\">删除</button>&nbsp;&nbsp;\";\r\n\r\n    return btnText;\r\n}\r\n\r\n//重置密码\r\nfunction resetPassword(id) {\r\n    deleteCookie(\"userTitle\");\r\n    setCookie(\"userTitle\", \"重置密码\");\r\n    if (id != '') {\r\n        deleteCookie(\"userId\");\r\n        setCookie(\"userId\", id);\r\n        console.log(id);\r\n    }\r\n    window.location.href = 'createNewUser.html';\r\n}\r\n\r\n// 打开创建用户页\r\nfunction openCreateUserPage(id, value) {\r\n\r\n    deleteCookie(\"userTitle\");\r\n    setCookie(\"userTitle\", value);\r\n    if (id != '') {\r\n        deleteCookie(\"userId\");\r\n        setCookie(\"userId\", id);\r\n    }\r\n    window.location.href = 'createNewUser.html';\r\n}\r\n\r\nfunction editUserPage(id) {\r\n    deleteCookie(\"userTitle\");\r\n    setCookie(\"userTitle\", \"编辑用户\");\r\n    if (id != '') {\r\n        deleteCookie(\"userId\");\r\n        setCookie(\"userId\", id);\r\n        console.log(id);\r\n    }\r\n    window.location.href = 'createNewUser.html';\r\n}\r\n// 修改用户状态（禁用、开启）\r\nfunction changeStatus(index) {\r\n    var url = '/admin/modifyUserStatus';\r\n    var data ={\r\n      'id':index\r\n    };\r\n    commonAjaxPost(true,url,data,function (result) {\r\n        if (result.code=='666'){\r\n            window.location.reload();\r\n            alert(\"状态修改成功\");\r\n\r\n        }\r\n    });\r\n}\r\n\r\n//删除用户\r\nfunction deleteUser(id) {\r\n        var url = '/admin/deleteUserInfoById';\r\n        console.log(url);\r\n        var data = {\r\n            'id': id,\r\n            \"username\": '',\r\n            'password': '',\r\n            \"startTime\": '',\r\n            'endTime': '',\r\n            'status': ''\r\n        };\r\n        console.log(data);\r\n        commonAjaxPost(true, url, data, function (result) {\r\n\r\n            if (result.code=='666'){\r\n                window.location.reload();\r\n                alert(\"删除成功\");\r\n            }else if (result.code=='333') {\r\n                window.location.href = 'login.html';\r\n\r\n            }else{\r\n                alert(\"删除失败\");\r\n            }\r\n        });\r\n}\r\n//导出为Excel\r\nfunction exportExcel(tableId,fileName) {\r\n    var table = document.getElementById(tableId);\r\n    var excelContent = table.innerHTML;\r\n    var excelFile = \"<html xmlns:o='urn:schemas-microsoft-com:office:office' xmlns:x='urn:schemas-microsoft-com:office:excel' xmlns='http://www.w3.org/TR/REC-html40'>\";\r\n    excelFile += \"<head><!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--></head>\";\r\n    excelFile += \"<body><table>\";\r\n    excelFile += excelContent;\r\n    excelFile += \"</table></body>\";\r\n    excelFile += \"</html>\";\r\n    var link = \"data:application/vnd.ms-excel;base64,\" + base64(excelFile);\r\n    var a = document.createElement(\"a\");\r\n    a.download = fileName+\".xlsx\";\r\n    a.href = link;\r\n    a.click();\r\n}\r\n\r\nfunction base64 (content) {\r\n    return window.btoa(unescape(encodeURIComponent(content)));\r\n}\r\n\r\n\r\n//导入表格\r\nfunction  importExcel(e) {\r\n    debugger;\r\n    var files = e.target.files;\r\n    var fileReader = new FileReader();\r\n    fileReader.onload = function (ev) {\r\n        try {\r\n            var data = ev.target.result,\r\n                workbook = XLSX.read(data, {\r\n                    type: 'binary'\r\n                })// 以二进制流方式读取得到整份excel表格对象\r\n            persons = []; // 存储获取到的数据\r\n        } catch (e) {\r\n            layer.msg('文件类型不正确');\r\n            return;\r\n        }\r\n        // 表格的表格范围，可用于判断表头是否数量是否正确\r\n        var fromTo = '';\r\n        // 遍历每张表读取\r\n        for (var sheet in workbook.Sheets) {\r\n            if (workbook.Sheets.hasOwnProperty(sheet)) {\r\n                fromTo = workbook.Sheets[sheet]['!ref'];\r\n                persons = persons.concat(XLSX.utils.sheet_to_json(workbook.Sheets[sheet]));\r\n                break; // 如果只取第一张表，就取消注释这行\r\n            }\r\n        }\r\n        console.log(persons);\r\n        if (persons.length != 0) {\r\n            if (!persons[0].no || !persons[0].answerNum || !persons[0].answerName || !persons[0].answerBelong || !persons[0].answerPhone || !persons[0].answerEmail) {\r\n                layer.msg('数据模板不正确');\r\n\r\n                return\r\n            }\r\n            _$(\"#userInfoTable\").bootstrapTable('removeAll');\r\n            //传入参数\r\n            for (var i = 0; i < persons.length; i++) {\r\n                _$(\"#userInfoTable\").bootstrapTable('insertRow', {index: i, row: persons[i]});\r\n                if (i == persons.length - 1) {\r\n                    if (files) {\r\n                        document.getElementById('image').value = '';\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n    // 以二进制方式打开文件\r\n    fileReader.readAsBinaryString(files[0]);\r\n}\r\n\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/target/classes/static/pages/answerQuestionJs/userManage.js b/target/classes/static/pages/answerQuestionJs/userManage.js
--- a/target/classes/static/pages/answerQuestionJs/userManage.js	(revision 4fd5abff4e98fd9fdc9423ae14e13c9121fc2353)
+++ b/target/classes/static/pages/answerQuestionJs/userManage.js	(date 1656787279208)
@@ -276,7 +276,7 @@
 //导入表格
 function  importExcel(e) {
     debugger;
-    var files = e.target.files;
+    var files = e.files;
     var fileReader = new FileReader();
     fileReader.onload = function (ev) {
         try {
